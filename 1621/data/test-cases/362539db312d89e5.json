{"uid":"362539db312d89e5","name":"test_rpc","fullName":"modules.lib.golioth-firmware-sdk.examples.zephyr.rpc.pytest.test_sample#test_rpc","historyId":"b3d5b97364e6f035c71c0a09d7a1be64","time":{"start":1728536317999,"stop":1728536341530,"duration":23531},"status":"broken","statusMessage":"AttributeError: 'RPCTimeout' object has no attribute 'status_code'","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0xffffaa30bd50>\ndevice = <golioth.golioth.Device object at 0xffffaa4f1c90>\nwifi_ssid = '***MIKES_ORANGE_PI_WIFI_SSID***', wifi_psk = '***MIKES_ORANGE_PI_WIFI_PSK***'\n\n    async def test_rpc(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Wait for device to reboot and connect\n    \n        shell._device.readlines_until(regex=\".*RPC observation established\", timeout=90.0)\n    \n        # Test successful RPC\n    \n        result = await device.rpc.call(\"multiply\", [ 7, 6 ])\n        LOGGER.info(\"### Received: {0} Expected: {1}\".format(result['value'],  42))\n        assert result['value'] == 42, \"Didn't receive correct value\"\n    \n        # Test successful RPC using float\n    \n        result = await device.rpc.call(\"multiply\", [ 11.4, 93.81 ])\n        LOGGER.info(\"### Received: {0} Expected: {1}\".format(result['value'],  1069.434))\n        assert result['value'] == 1069.434, \"Didn't receive correct float\"\n    \n        # Test invalid argument RPC\n    \n        error_code = None\n        try:\n            result = await device.rpc.call(\"multiply\", [ 6, 'J' ])\n        except Exception as e:\n            error_code = e\n            pass\n>       LOGGER.info(\"### Received: {0} Expected: {1}\".format(error_code.status_code,  RPCStatusCode.INVALID_ARGUMENT))\nE       AttributeError: 'RPCTimeout' object has no attribute 'status_code'\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/rpc/pytest/test_sample.py:53: AttributeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1728536302796,"stop":1728536302797,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1728536302797,"stop":1728536302797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1728536302798,"stop":1728536302798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1728536302798,"stop":1728536302798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object","time":{"start":1728536302799,"stop":1728536302801,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"twister_harness_config","time":{"start":1728536302799,"stop":1728536302799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1728536302802,"stop":1728536302802,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1728536302803,"stop":1728536303355,"duration":552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1728536302803,"stop":1728536302803,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1728536303355,"stop":1728536304224,"duration":869},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dut","time":{"start":1728536304224,"stop":1728536317390,"duration":13166},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shell","time":{"start":1728536317391,"stop":1728536317996,"duration":605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'RPCTimeout' object has no attribute 'status_code'","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0xffffaa30bd50>\ndevice = <golioth.golioth.Device object at 0xffffaa4f1c90>\nwifi_ssid = '***MIKES_ORANGE_PI_WIFI_SSID***', wifi_psk = '***MIKES_ORANGE_PI_WIFI_PSK***'\n\n    async def test_rpc(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Wait for device to reboot and connect\n    \n        shell._device.readlines_until(regex=\".*RPC observation established\", timeout=90.0)\n    \n        # Test successful RPC\n    \n        result = await device.rpc.call(\"multiply\", [ 7, 6 ])\n        LOGGER.info(\"### Received: {0} Expected: {1}\".format(result['value'],  42))\n        assert result['value'] == 42, \"Didn't receive correct value\"\n    \n        # Test successful RPC using float\n    \n        result = await device.rpc.call(\"multiply\", [ 11.4, 93.81 ])\n        LOGGER.info(\"### Received: {0} Expected: {1}\".format(result['value'],  1069.434))\n        assert result['value'] == 1069.434, \"Didn't receive correct float\"\n    \n        # Test invalid argument RPC\n    \n        error_code = None\n        try:\n            result = await device.rpc.call(\"multiply\", [ 6, 'J' ])\n        except Exception as e:\n            error_code = e\n            pass\n>       LOGGER.info(\"### Received: {0} Expected: {1}\".format(error_code.status_code,  RPCStatusCode.INVALID_ARGUMENT))\nE       AttributeError: 'RPCTimeout' object has no attribute 'status_code'\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/rpc/pytest/test_sample.py:53: AttributeError","steps":[],"attachments":[{"uid":"4b07780734a8d960","name":"log","source":"4b07780734a8d960.txt","type":"text/plain","size":29168}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"dut::0","time":{"start":1728536341790,"stop":1728536341825,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1728536341826,"stop":1728536342404,"duration":578},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1728536342406,"stop":1728536342409,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object::0","time":{"start":1728536342414,"stop":1728536342414,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"rak5010"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"sample.zephyr.rak5010"},{"name":"tag","value":"mikes_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"4a248d2a7206"},{"name":"thread","value":"375-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"modules.lib.golioth-firmware-sdk.examples.zephyr.rpc.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'rak5010'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"723ddb5d43a6c9d","status":"broken","statusDetails":"httpx.ConnectTimeout","time":{"start":1728492837709,"stop":1728492845028,"duration":7319}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":21,"skipped":0,"passed":98,"unknown":0,"total":119},"items":[{"uid":"22e75dfd72cb8fe3","reportUrl":"https://golioth.github.io/allure-reports/1622//#testresult/22e75dfd72cb8fe3","status":"passed","time":{"start":1728521740014,"stop":1728521759509,"duration":19495}},{"uid":"2373f40c1b31e230","reportUrl":"https://golioth.github.io/allure-reports/1600//#testresult/2373f40c1b31e230","status":"passed","time":{"start":1728321212030,"stop":1728321253437,"duration":41407}},{"uid":"29693a04682515bb","reportUrl":"https://golioth.github.io/allure-reports/1621//#testresult/29693a04682515bb","status":"broken","statusDetails":"httpx.ConnectTimeout","time":{"start":1728492837709,"stop":1728492845028,"duration":7319}},{"uid":"75fd56df3e2f4a94","reportUrl":"https://golioth.github.io/allure-reports/1619//#testresult/75fd56df3e2f4a94","status":"passed","time":{"start":1728484675460,"stop":1728484695048,"duration":19588}},{"uid":"1184d5b5da0024d6","reportUrl":"https://golioth.github.io/allure-reports/1618//#testresult/1184d5b5da0024d6","status":"passed","time":{"start":1728436016633,"stop":1728436057542,"duration":40909}},{"uid":"a27cf5e47ba126ba","reportUrl":"https://golioth.github.io/allure-reports/1617//#testresult/a27cf5e47ba126ba","status":"passed","time":{"start":1728426666243,"stop":1728426707137,"duration":40894}},{"uid":"60afc3c89a686abd","reportUrl":"https://golioth.github.io/allure-reports/1611//#testresult/60afc3c89a686abd","status":"passed","time":{"start":1728342356736,"stop":1728342375996,"duration":19260}},{"uid":"3688164cae17256f","reportUrl":"https://golioth.github.io/allure-reports/1616//#testresult/3688164cae17256f","status":"broken","statusDetails":"AttributeError: 'RPCTimeout' object has no attribute 'status_code'","time":{"start":1728400605527,"stop":1728400628888,"duration":23361}},{"uid":"7a8474aecb16d3d7","reportUrl":"https://golioth.github.io/allure-reports/1611//#testresult/7a8474aecb16d3d7","status":"passed","time":{"start":1728342356736,"stop":1728342375996,"duration":19260}},{"uid":"e670f6343142b9c","reportUrl":"https://golioth.github.io/allure-reports/1614//#testresult/e670f6343142b9c","status":"passed","time":{"start":1728349322887,"stop":1728349363309,"duration":40422}},{"uid":"aff35d35c9a7afcc","reportUrl":"https://golioth.github.io/allure-reports/1613//#testresult/aff35d35c9a7afcc","status":"passed","time":{"start":1728343770805,"stop":1728343810831,"duration":40026}},{"uid":"7c63e15d8cec3c55","reportUrl":"https://golioth.github.io/allure-reports/1611//#testresult/7c63e15d8cec3c55","status":"passed","time":{"start":1728342356736,"stop":1728342375996,"duration":19260}},{"uid":"fafc8a5cee1d531","reportUrl":"https://golioth.github.io/allure-reports/1609//#testresult/fafc8a5cee1d531","status":"passed","time":{"start":1728337330958,"stop":1728337371043,"duration":40085}},{"uid":"eddff60f634a05cb","reportUrl":"https://golioth.github.io/allure-reports/1599//#testresult/eddff60f634a05cb","status":"passed","time":{"start":1728318132067,"stop":1728318172736,"duration":40669}},{"uid":"58dd9e2646748d2c","reportUrl":"https://golioth.github.io/allure-reports/1600//#testresult/58dd9e2646748d2c","status":"passed","time":{"start":1728321212030,"stop":1728321253437,"duration":41407}},{"uid":"4596d0f7a51a9960","reportUrl":"https://golioth.github.io/allure-reports/1600//#testresult/4596d0f7a51a9960","status":"passed","time":{"start":1728321212030,"stop":1728321253437,"duration":41407}},{"uid":"1ee51a084095c5dd","reportUrl":"https://golioth.github.io/allure-reports/1599//#testresult/1ee51a084095c5dd","status":"passed","time":{"start":1728318132067,"stop":1728318172736,"duration":40669}},{"uid":"e2b3f8b1db31378e","reportUrl":"https://golioth.github.io/allure-reports/1597//#testresult/e2b3f8b1db31378e","status":"broken","statusDetails":"golioth.golioth.RPCTimeout: RPC timeout","time":{"start":1728314382771,"stop":1728314425741,"duration":42970}},{"uid":"8388d901230ab01e","reportUrl":"https://golioth.github.io/allure-reports/1588//#testresult/8388d901230ab01e","status":"passed","time":{"start":1728130455505,"stop":1728130496124,"duration":40619}},{"uid":"278cbe78a8b6638a","reportUrl":"https://golioth.github.io/allure-reports/1586//#testresult/278cbe78a8b6638a","status":"passed","time":{"start":1728125763721,"stop":1728125804731,"duration":41010}}]},"tags":["mikes_orange_pi","anyio","@pytest.mark.usefixtures('anyio_backend')","rak5010","zephyr"]},"source":"362539db312d89e5.json","parameterValues":["'rak5010'","'zephyr'"]}