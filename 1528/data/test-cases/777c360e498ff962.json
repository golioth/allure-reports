{"uid":"777c360e498ff962","name":"test_reason_and_state","fullName":"tests.hil.tests.ota.test_ota#test_reason_and_state","historyId":"805922d6f8e486f2169951f916b7199e","time":{"start":1727944911277,"stop":1727944961434,"duration":50157},"status":"failed","statusMessage":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffff8b7ac6d0>\ndevice = <golioth.golioth.Device object at 0xffff8b80c9d0>\nproject = <golioth.golioth.Project object at 0xffff8b79d8d0>\nreleases = {'test_blocks': Release <66fe58c92860a8ee0e301a4f, release_tags=[], device_tags=['66fe58c82860a8ee0e301a4c'], artifact..., release_tags=[], device_tags=['66fe58c82860a8ee0e301a4c'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 6 == 5\nE            +  where 6 = int('6')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1727944875269,"stop":1727944875269,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1727944875270,"stop":1727944875270,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1727944875271,"stop":1727944875271,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1727944875272,"stop":1727944875272,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1727944875273,"stop":1727944875273,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1727944875274,"stop":1727944875275,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1727944875275,"stop":1727944875275,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1727944875276,"stop":1727944875276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1727944875276,"stop":1727944875276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1727944875277,"stop":1727944875277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1727944875277,"stop":1727944875277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1727944875278,"stop":1727944875278,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1727944875278,"stop":1727944893764,"duration":18486},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1727944893766,"stop":1727944894287,"duration":521},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1727944894287,"stop":1727944895110,"duration":823},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1727944895111,"stop":1727944903299,"duration":8188},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1727944903300,"stop":1727944903738,"duration":438},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag","time":{"start":1727944903739,"stop":1727944904502,"duration":763},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases","time":{"start":1727944904503,"stop":1727944906046,"duration":1543},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases_teardown","time":{"start":1727944911274,"stop":1727944911274,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffff8b7ac6d0>\ndevice = <golioth.golioth.Device object at 0xffff8b80c9d0>\nproject = <golioth.golioth.Project object at 0xffff8b79d8d0>\nreleases = {'test_blocks': Release <66fe58c92860a8ee0e301a4f, release_tags=[], device_tags=['66fe58c82860a8ee0e301a4c'], artifact..., release_tags=[], device_tags=['66fe58c82860a8ee0e301a4c'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 6 == 5\nE            +  where 6 = int('6')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","steps":[],"attachments":[{"uid":"9adb53c4fbd2e532","name":"stdout","source":"9adb53c4fbd2e532.txt","type":"text/plain","size":2956}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"releases_teardown::0","time":{"start":1727944961576,"stop":1727944962577,"duration":1001},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases::0","time":{"start":1727944962579,"stop":1727944964102,"duration":1523},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag::0","time":{"start":1727944964104,"stop":1727944964832,"duration":728},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts::0","time":{"start":1727944964835,"stop":1727944964835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1727944964836,"stop":1727944964837,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1727944964839,"stop":1727944965197,"duration":358},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1727944965200,"stop":1727944965200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1727944965202,"stop":1727944965205,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"mimxrt1024_evk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.mimxrt1024_evk"},{"name":"tag","value":"tims_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"2a5019577f0c"},{"name":"thread","value":"267-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'mimxrt1024_evk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":6,"skipped":0,"passed":52,"unknown":0,"total":60},"items":[{"uid":"ccc533d1b4278313","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/ccc533d1b4278313","status":"passed","time":{"start":1727832455559,"stop":1727832532654,"duration":77095}},{"uid":"ca211b6c4915fa25","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/ca211b6c4915fa25","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"e9caa1903b75f3f1","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/e9caa1903b75f3f1","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"62adb12f92f83bb0","reportUrl":"https://golioth.github.io/allure-reports/1526//#testresult/62adb12f92f83bb0","status":"passed","time":{"start":1727916160395,"stop":1727916237599,"duration":77204}},{"uid":"ab9b429ace1e5023","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/ab9b429ace1e5023","status":"passed","time":{"start":1727907188509,"stop":1727907265439,"duration":76930}},{"uid":"f3811e2b94e9f2e5","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/f3811e2b94e9f2e5","status":"passed","time":{"start":1727832455559,"stop":1727832532654,"duration":77095}},{"uid":"974252cf450cf487","reportUrl":"https://golioth.github.io/allure-reports/1523//#testresult/974252cf450cf487","status":"passed","time":{"start":1727829085093,"stop":1727829163668,"duration":78575}},{"uid":"cb516620e74579f3","reportUrl":"https://golioth.github.io/allure-reports/1518//#testresult/cb516620e74579f3","status":"passed","time":{"start":1727801849192,"stop":1727801926349,"duration":77157}},{"uid":"ddcb406604baac59","reportUrl":"https://golioth.github.io/allure-reports/1517//#testresult/ddcb406604baac59","status":"passed","time":{"start":1727800954638,"stop":1727801033061,"duration":78423}},{"uid":"58e90a3197a62a5a","reportUrl":"https://golioth.github.io/allure-reports/1513//#testresult/58e90a3197a62a5a","status":"passed","time":{"start":1727795844178,"stop":1727795921203,"duration":77025}},{"uid":"7b35896a4ff9b891","reportUrl":"https://golioth.github.io/allure-reports/1522//#testresult/7b35896a4ff9b891","status":"passed","time":{"start":1727810098488,"stop":1727810175907,"duration":77419}},{"uid":"8bdb8c2ce29a3858","reportUrl":"https://golioth.github.io/allure-reports/1520//#testresult/8bdb8c2ce29a3858","status":"passed","time":{"start":1727805960284,"stop":1727806037531,"duration":77247}},{"uid":"9729a7e3a2a6fb00","reportUrl":"https://golioth.github.io/allure-reports/1513//#testresult/9729a7e3a2a6fb00","status":"passed","time":{"start":1727795844178,"stop":1727795921203,"duration":77025}},{"uid":"1bcde6828d29ffc5","reportUrl":"https://golioth.github.io/allure-reports/1512//#testresult/1bcde6828d29ffc5","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727794433747,"stop":1727794501903,"duration":68156}},{"uid":"5e88dd9595476e4","reportUrl":"https://golioth.github.io/allure-reports/1510//#testresult/5e88dd9595476e4","status":"passed","time":{"start":1727788084964,"stop":1727788162004,"duration":77040}},{"uid":"5c3464708bba52f7","reportUrl":"https://golioth.github.io/allure-reports/1507//#testresult/5c3464708bba52f7","status":"passed","time":{"start":1727783779650,"stop":1727783857055,"duration":77405}},{"uid":"4edee63df6421d2a","reportUrl":"https://golioth.github.io/allure-reports/1493//#testresult/4edee63df6421d2a","status":"passed","time":{"start":1727774182125,"stop":1727774259242,"duration":77117}},{"uid":"c7ba89aaf119e577","reportUrl":"https://golioth.github.io/allure-reports/1506//#testresult/c7ba89aaf119e577","status":"failed","statusDetails":"AssertionError: assert 3 == 2\n +  where 3 = int('3')","time":{"start":1727778423535,"stop":1727778451894,"duration":28359}},{"uid":"bcef979e1e84f2b6","reportUrl":"https://golioth.github.io/allure-reports/1500//#testresult/bcef979e1e84f2b6","status":"passed","time":{"start":1727776301002,"stop":1727776379078,"duration":78076}},{"uid":"9dca178636e79793","reportUrl":"https://golioth.github.io/allure-reports/1493//#testresult/9dca178636e79793","status":"passed","time":{"start":1727774182125,"stop":1727774259242,"duration":77117}}]},"tags":["anyio","tims_orange_pi","@pytest.mark.usefixtures('anyio_backend')","mimxrt1024_evk","zephyr"]},"source":"777c360e498ff962.json","parameterValues":["'mimxrt1024_evk'","'zephyr'"]}