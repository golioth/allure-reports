{"uid":"2ad61d9d5d8f74b9","name":"test_int_too_small","fullName":"tests.hil.tests.settings.test_settings#test_int_too_small","historyId":"9a158ab876eb6bcacb2a056562120108","time":{"start":1728328252103,"stop":1728328265200,"duration":13097},"status":"failed","statusMessage":"AssertionError: assert (False or 4 is None)","statusTrace":"board = <espidfboard.ESPIDFBoard object at 0xffffb302aed0>\ndevice = <golioth.golioth.Device object at 0xffffb2fa36d0>\n\n    async def test_int_too_small(board, device):\n        await device.settings.set('TEST_INT', -1*(2**33))\n    \n        with pytest.raises(trio.TooSlowError):\n            await board.wait_for_regex_in_line('Received test_int: -8589934592', timeout_s=10)\n    \n        # Wait for device to respond to server\n        await trio.sleep(1)\n    \n>       await assert_settings_error(device, 'TEST_INT', VALUE_OUTSIDE_RANGE)\n\ntests/hil/tests/settings/test_settings.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndevice = <golioth.golioth.Device object at 0xffffb2fa36d0>, key = 'TEST_INT'\nerror = 4\n\n    async def assert_settings_error(device, key, error):\n        await device.refresh()\n    \n        key_found = False\n    \n        for e in device.info['metadata']['lastSettingsStatus']['errors']:\n            if e['key'] == key:\n                key_found = True\n                assert e['code'] == error\n    \n>       assert key_found or error is None\nE       assert (False or 4 is None)\n\ntests/hil/tests/settings/test_settings.py:54: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"anyio_backend","time":{"start":1728328166070,"stop":1728328166070,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1728328166071,"stop":1728328166071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1728328166072,"stop":1728328166072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1728328166073,"stop":1728328166073,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1728328166073,"stop":1728328166073,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1728328166074,"stop":1728328166074,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1728328166074,"stop":1728328166074,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1728328166075,"stop":1728328166076,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1728328166075,"stop":1728328166075,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1728328166076,"stop":1728328166076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1728328166076,"stop":1728328166076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1728328166077,"stop":1728328166077,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1728328166077,"stop":1728328166488,"duration":411},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1728328166489,"stop":1728328218125,"duration":51636},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1728328218127,"stop":1728328219144,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1728328219145,"stop":1728328234015,"duration":14870},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert (False or 4 is None)","statusTrace":"board = <espidfboard.ESPIDFBoard object at 0xffffb302aed0>\ndevice = <golioth.golioth.Device object at 0xffffb2fa36d0>\n\n    async def test_int_too_small(board, device):\n        await device.settings.set('TEST_INT', -1*(2**33))\n    \n        with pytest.raises(trio.TooSlowError):\n            await board.wait_for_regex_in_line('Received test_int: -8589934592', timeout_s=10)\n    \n        # Wait for device to respond to server\n        await trio.sleep(1)\n    \n>       await assert_settings_error(device, 'TEST_INT', VALUE_OUTSIDE_RANGE)\n\ntests/hil/tests/settings/test_settings.py:88: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndevice = <golioth.golioth.Device object at 0xffffb2fa36d0>, key = 'TEST_INT'\nerror = 4\n\n    async def assert_settings_error(device, key, error):\n        await device.refresh()\n    \n        key_found = False\n    \n        for e in device.info['metadata']['lastSettingsStatus']['errors']:\n            if e['key'] == key:\n                key_found = True\n                assert e['code'] == error\n    \n>       assert key_found or error is None\nE       assert (False or 4 is None)\n\ntests/hil/tests/settings/test_settings.py:54: AssertionError","steps":[],"attachments":[{"uid":"9990c1e9c87f4922","name":"stdout","source":"9990c1e9c87f4922.txt","type":"text/plain","size":534}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup::0","time":{"start":1728328394586,"stop":1728328394587,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1728328394592,"stop":1728328395007,"duration":415},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1728328395009,"stop":1728328395010,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1728328395013,"stop":1728328395015,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"esp32s3_devkitc_espidf"},{"name":"tag","value":"esp-idf"},{"name":"parentSuite","value":"hil.esp-idf.esp32s3_devkitc_espidf"},{"name":"tag","value":"tims_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_settings"},{"name":"host","value":"7f614ccd101e"},{"name":"thread","value":"258-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.settings.test_settings"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'esp32s3_devkitc_espidf'"},{"name":"platform_name","value":"'esp-idf'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"52cd48ba3ef92a9d","status":"passed","time":{"start":1728316487671,"stop":1728316500597,"duration":12926}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":8,"broken":2,"skipped":0,"passed":99,"unknown":0,"total":109},"items":[{"uid":"56f59b4753f97aa1","reportUrl":"https://golioth.github.io/allure-reports/1600//#testresult/56f59b4753f97aa1","status":"passed","time":{"start":1728319983656,"stop":1728319996664,"duration":13008}},{"uid":"d4c7bb83389e338a","reportUrl":"https://golioth.github.io/allure-reports/1600//#testresult/d4c7bb83389e338a","status":"passed","time":{"start":1728319983656,"stop":1728319996664,"duration":13008}},{"uid":"6de619383950607e","reportUrl":"https://golioth.github.io/allure-reports/1599//#testresult/6de619383950607e","status":"passed","time":{"start":1728316487671,"stop":1728316500597,"duration":12926}},{"uid":"d1aa3fd62a348836","reportUrl":"https://golioth.github.io/allure-reports/1597//#testresult/d1aa3fd62a348836","status":"passed","time":{"start":1728312576715,"stop":1728312589461,"duration":12746}},{"uid":"cebccfca8c86453d","reportUrl":"https://golioth.github.io/allure-reports/1588//#testresult/cebccfca8c86453d","status":"passed","time":{"start":1728125585326,"stop":1728125598287,"duration":12961}},{"uid":"d0ce082d40f33a55","reportUrl":"https://golioth.github.io/allure-reports/1586//#testresult/d0ce082d40f33a55","status":"passed","time":{"start":1728122732113,"stop":1728122744863,"duration":12750}},{"uid":"7370e4b04401ef85","reportUrl":"https://golioth.github.io/allure-reports/1591//#testresult/7370e4b04401ef85","status":"passed","time":{"start":1728261479970,"stop":1728261493269,"duration":13299}},{"uid":"ea6bfe1ff81d0418","reportUrl":"https://golioth.github.io/allure-reports/1587//#testresult/ea6bfe1ff81d0418","status":"passed","time":{"start":1728123992777,"stop":1728124005871,"duration":13094}},{"uid":"fda364b5e809626","reportUrl":"https://golioth.github.io/allure-reports/1590//#testresult/fda364b5e809626","status":"passed","time":{"start":1728175169228,"stop":1728175182735,"duration":13507}},{"uid":"3f539d0823a92c65","reportUrl":"https://golioth.github.io/allure-reports/1575//#testresult/3f539d0823a92c65","status":"passed","time":{"start":1728064433853,"stop":1728064446791,"duration":12938}},{"uid":"a7a5ed5bd5bd0b46","reportUrl":"https://golioth.github.io/allure-reports/1589//#testresult/a7a5ed5bd5bd0b46","status":"passed","time":{"start":1728128519476,"stop":1728128532259,"duration":12783}},{"uid":"e657dcfed1ba7334","reportUrl":"https://golioth.github.io/allure-reports/1588//#testresult/e657dcfed1ba7334","status":"passed","time":{"start":1728125585326,"stop":1728125598287,"duration":12961}},{"uid":"1cc0a2e7a5432327","reportUrl":"https://golioth.github.io/allure-reports/1586//#testresult/1cc0a2e7a5432327","status":"passed","time":{"start":1728122732113,"stop":1728122744863,"duration":12750}},{"uid":"39b13a4f99c526c1","reportUrl":"https://golioth.github.io/allure-reports/1585//#testresult/39b13a4f99c526c1","status":"passed","time":{"start":1728121875892,"stop":1728121889191,"duration":13299}},{"uid":"2dbbd133167070f2","reportUrl":"https://golioth.github.io/allure-reports/1572//#testresult/2dbbd133167070f2","status":"passed","time":{"start":1728058264770,"stop":1728058278136,"duration":13366}},{"uid":"81ba2c20b03acd31","reportUrl":"https://golioth.github.io/allure-reports/1573//#testresult/81ba2c20b03acd31","status":"passed","time":{"start":1728026178032,"stop":1728026190909,"duration":12877}},{"uid":"b07a355bd37dee94","reportUrl":"https://golioth.github.io/allure-reports/1584//#testresult/b07a355bd37dee94","status":"passed","time":{"start":1728088570366,"stop":1728088583421,"duration":13055}},{"uid":"1360961e385b6d75","reportUrl":"https://golioth.github.io/allure-reports/1583//#testresult/1360961e385b6d75","status":"passed","time":{"start":1728080616581,"stop":1728080630487,"duration":13906}},{"uid":"b4a6757d047775e0","reportUrl":"https://golioth.github.io/allure-reports/1582//#testresult/b4a6757d047775e0","status":"passed","time":{"start":1728073514179,"stop":1728073527190,"duration":13011}},{"uid":"d37c8a719f28a4c5","reportUrl":"https://golioth.github.io/allure-reports/1581//#testresult/d37c8a719f28a4c5","status":"passed","time":{"start":1728069843456,"stop":1728069856396,"duration":12940}}]},"tags":["esp32s3_devkitc_espidf","esp-idf","anyio","tims_orange_pi","@pytest.mark.usefixtures('anyio_backend')"]},"source":"2ad61d9d5d8f74b9.json","parameterValues":["'esp32s3_devkitc_espidf'","'esp-idf'"]}