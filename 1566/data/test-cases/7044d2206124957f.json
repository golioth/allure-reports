{"uid":"7044d2206124957f","name":"test_lightdb_observed","fullName":"tests.hil.tests.lightdb.test_lightdb#test_lightdb_observed","historyId":"85cd92f8d85533e88b571b6fbeae2d2d","time":{"start":1727987744552,"stop":1727987760489,"duration":15937},"status":"broken","statusMessage":"trio.TooSlowError","statusTrace":"self = <test_lightdb.ObserveTester object at 0xffff8dc58c50>, value = 19\ncontent_type = <Coap_Content_Type.CBOR: 2>\n\n    async def set(self, value: int, content_type: Coap_Content_Type):\n        self.events_count += 1\n    \n        if content_type == Coap_Content_Type.JSON:\n            observe_path = 'hil/lightdb/observed/int'\n        elif content_type == Coap_Content_Type.CBOR:\n            observe_path = 'hil/lightdb/observed/cbor/int'\n        else:\n            assert False\n    \n        await self.device.lightdb.set(observe_path, value)\n        with trio.fail_after(10):\n            count = None\n    \n            while count is None or count < self.events_count:\n>               await trio.sleep(1)\n\ntests/hil/tests/lightdb/test_lightdb.py:115: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/usr/local/lib/python3.11/dist-packages/trio/_timeouts.py:87: in sleep\n    await sleep_until(trio.current_time() + seconds)\n/usr/local/lib/python3.11/dist-packages/trio/_timeouts.py:68: in sleep_until\n    await sleep_forever()\n/usr/local/lib/python3.11/dist-packages/trio/_timeouts.py:48: in sleep_forever\n    await trio.lowlevel.wait_task_rescheduled(lambda _: trio.lowlevel.Abort.SUCCEEDED)\n/usr/local/lib/python3.11/dist-packages/trio/_core/_traps.py:178: in wait_task_rescheduled\n    return (await _async_yield(WaitTaskRescheduled(abort_func))).unwrap()\n/usr/local/lib/python3.11/dist-packages/outcome/_impl.py:213: in unwrap\n    raise captured_error\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n    def raise_cancel() -> NoReturn:\n>       raise Cancelled._create()\nE       trio.Cancelled: Cancelled\n\n/usr/local/lib/python3.11/dist-packages/trio/_core/_run.py:1437: Cancelled\n\nDuring handling of the above exception, another exception occurred:\n\ndevice = <golioth.golioth.Device object at 0xffff8dbdaa50>\n\n    async def test_lightdb_observed(device):\n        ot = ObserveTester(device)\n    \n        await ot.set(15, Coap_Content_Type.JSON)\n        await ot.set(17, Coap_Content_Type.JSON)\n>       await ot.set(19, Coap_Content_Type.CBOR)\n\ntests/hil/tests/lightdb/test_lightdb.py:123: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/hil/tests/lightdb/test_lightdb.py:111: in set\n    with trio.fail_after(10):\n/usr/lib/python3.11/contextlib.py:155: in __exit__\n    self.gen.throw(typ, value, traceback)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\ndeadline = 72983.12138887281\n\n    def fail_at(deadline: float) -> AbstractContextManager[trio.CancelScope]:  # type: ignore[misc]\n        \"\"\"Creates a cancel scope with the given deadline, and raises an error if it\n        is actually cancelled.\n    \n        This function and :func:`move_on_at` are similar in that both create a\n        cancel scope with a given absolute deadline, and if the deadline expires\n        then both will cause :exc:`Cancelled` to be raised within the scope. The\n        difference is that when the :exc:`Cancelled` exception reaches\n        :func:`move_on_at`, it's caught and discarded. When it reaches\n        :func:`fail_at`, then it's caught and :exc:`TooSlowError` is raised in its\n        place.\n    \n        Args:\n          deadline (float): The deadline.\n    \n        Raises:\n          TooSlowError: if a :exc:`Cancelled` exception is raised in this scope\n            and caught by the context manager.\n          ValueError: if deadline is NaN.\n    \n        \"\"\"\n        with move_on_at(deadline) as scope:\n            yield scope\n        if scope.cancelled_caught:\n>           raise TooSlowError\nE           trio.TooSlowError\n\n/usr/local/lib/python3.11/dist-packages/trio/_timeouts.py:123: TooSlowError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1727987681971,"stop":1727987681971,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1727987681972,"stop":1727987681973,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1727987681972,"stop":1727987681972,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1727987681973,"stop":1727987681973,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1727987681974,"stop":1727987681974,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1727987681975,"stop":1727987681975,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1727987681975,"stop":1727987681976,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1727987681976,"stop":1727987681976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1727987681977,"stop":1727987681977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1727987681977,"stop":1727987681977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1727987681977,"stop":1727987681977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1727987681978,"stop":1727987681978,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1727987681978,"stop":1727987682488,"duration":510},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1727987682488,"stop":1727987697470,"duration":14982},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1727987697472,"stop":1727987698780,"duration":1308},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1727987698780,"stop":1727987732479,"duration":33699},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"setup::0","time":{"start":1727987760973,"stop":1727987761630,"duration":657},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1727987761632,"stop":1727987762076,"duration":444},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1727987762079,"stop":1727987762131,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1727987762133,"stop":1727987762136,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"nrf9160dk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.nrf9160dk"},{"name":"tag","value":"sams_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_lightdb"},{"name":"host","value":"733ea30063f6"},{"name":"thread","value":"270-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.lightdb.test_lightdb"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'nrf9160dk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":29,"skipped":0,"passed":45,"unknown":0,"total":75},"items":[{"uid":"fba4bf93e0217a98","reportUrl":"https://golioth.github.io/allure-reports/1560//#testresult/fba4bf93e0217a98","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727984673656,"stop":1727984673656,"duration":0}},{"uid":"e0954b2cf62cf772","reportUrl":"https://golioth.github.io/allure-reports/1556//#testresult/e0954b2cf62cf772","status":"passed","time":{"start":1727978714219,"stop":1727978730500,"duration":16281}},{"uid":"78f9698a2daa98ad","reportUrl":"https://golioth.github.io/allure-reports/1542//#testresult/78f9698a2daa98ad","status":"passed","time":{"start":1727976466245,"stop":1727976480585,"duration":14340}},{"uid":"ad9ccb8ecbe94fcf","reportUrl":"https://golioth.github.io/allure-reports/1547//#testresult/ad9ccb8ecbe94fcf","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727973819950,"stop":1727973840425,"duration":20475}},{"uid":"1fb89cc09c21a689","reportUrl":"https://golioth.github.io/allure-reports/1544//#testresult/1fb89cc09c21a689","status":"passed","time":{"start":1727971054400,"stop":1727971069777,"duration":15377}},{"uid":"19ee62f6621063ae","reportUrl":"https://golioth.github.io/allure-reports/1543//#testresult/19ee62f6621063ae","status":"broken","statusDetails":"pynrfjprog.APIError.APIError: An error was reported by NRFJPROG DLL: -3 INVALID_PARAMETER. \n[Probes.960017212] [Client] Encountered error -3: Command erase_file executed for 0 milliseconds with result -3\n\textra: [Probes.960017212] [DebugProbe] Failed while erasing device.\n\textra: [HighLevel] Failed programming the device.\n\textra: [Probes.960017212] [Worker] Provided program file lightdb-merged.hex not found.","time":{"start":1727968210418,"stop":1727968210418,"duration":0}},{"uid":"fbff22cdd68d27a0","reportUrl":"https://golioth.github.io/allure-reports/1536//#testresult/fbff22cdd68d27a0","status":"passed","time":{"start":1727958553459,"stop":1727958564762,"duration":11303}},{"uid":"82b9286637a919b0","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/82b9286637a919b0","status":"passed","time":{"start":1727948709237,"stop":1727948726253,"duration":17016}},{"uid":"dae015ec7bb24464","reportUrl":"https://golioth.github.io/allure-reports/1534//#testresult/dae015ec7bb24464","status":"passed","time":{"start":1727954172286,"stop":1727954183373,"duration":11087}},{"uid":"30b9972c9248a924","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/30b9972c9248a924","status":"passed","time":{"start":1727952607543,"stop":1727952621732,"duration":14189}},{"uid":"aaa23ae1105ed7b","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/aaa23ae1105ed7b","status":"passed","time":{"start":1727932977703,"stop":1727932990920,"duration":13217}},{"uid":"279a269e395bd856","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/279a269e395bd856","status":"passed","time":{"start":1727948709237,"stop":1727948726253,"duration":17016}},{"uid":"84014149b58b7ad6","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/84014149b58b7ad6","status":"passed","time":{"start":1727942832605,"stop":1727942844100,"duration":11495}},{"uid":"5c8957e0067f4f61","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/5c8957e0067f4f61","status":"passed","time":{"start":1727932977703,"stop":1727932990920,"duration":13217}},{"uid":"876a17cf3d9cd286","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/876a17cf3d9cd286","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727926723342,"stop":1727926723342,"duration":0}},{"uid":"8ee46123bbdeb022","reportUrl":"https://golioth.github.io/allure-reports/1526//#testresult/8ee46123bbdeb022","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727916241016,"stop":1727916241016,"duration":0}},{"uid":"a37605ec5d304f7","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/a37605ec5d304f7","status":"passed","time":{"start":1727907661867,"stop":1727907673238,"duration":11371}},{"uid":"750075911d34f52f","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/750075911d34f52f","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1727833071590,"stop":1727833071590,"duration":0}},{"uid":"3f98956673d46dbf","reportUrl":"https://golioth.github.io/allure-reports/1523//#testresult/3f98956673d46dbf","status":"passed","time":{"start":1727829869346,"stop":1727829885614,"duration":16268}},{"uid":"932cda19c707cc6a","reportUrl":"https://golioth.github.io/allure-reports/1518//#testresult/932cda19c707cc6a","status":"passed","time":{"start":1727813952955,"stop":1727813987886,"duration":34931}}]},"tags":["nrf9160dk","anyio","sams_orange_pi","@pytest.mark.usefixtures('anyio_backend')","zephyr"]},"source":"7044d2206124957f.json","parameterValues":["'nrf9160dk'","'zephyr'"]}