{"uid":"dcc7ab0102a2c84f","name":"test_reason_and_state","fullName":"tests.hil.tests.ota.test_ota#test_reason_and_state","historyId":"805922d6f8e486f2169951f916b7199e","time":{"start":1727987603114,"stop":1727987652345,"duration":49231},"status":"failed","statusMessage":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffff7f97e910>\ndevice = <golioth.golioth.Device object at 0xffff7f97d090>\nproject = <golioth.golioth.Project object at 0xffff7f96d710>\nreleases = {'test_blocks': Release <66feff8c2860a8ee0e30436a, release_tags=[], device_tags=['66feff8b2860a8ee0e304367'], artifact..., release_tags=[], device_tags=['66feff8b2860a8ee0e304367'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 6 == 5\nE            +  where 6 = int('6')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1727987568906,"stop":1727987568906,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1727987568907,"stop":1727987568908,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1727987568907,"stop":1727987568907,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1727987568908,"stop":1727987568908,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1727987568909,"stop":1727987568909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1727987568910,"stop":1727987568910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1727987568911,"stop":1727987568911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1727987568912,"stop":1727987568912,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1727987568913,"stop":1727987568913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1727987568914,"stop":1727987568915,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1727987568914,"stop":1727987568914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1727987568915,"stop":1727987568915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1727987568916,"stop":1727987587340,"duration":18424},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1727987587341,"stop":1727987587857,"duration":516},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1727987587857,"stop":1727987588757,"duration":900},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1727987588758,"stop":1727987594280,"duration":5522},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1727987594282,"stop":1727987594679,"duration":397},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag","time":{"start":1727987594679,"stop":1727987595459,"duration":780},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases","time":{"start":1727987595459,"stop":1727987597129,"duration":1670},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases_teardown","time":{"start":1727987603111,"stop":1727987603111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffff7f97e910>\ndevice = <golioth.golioth.Device object at 0xffff7f97d090>\nproject = <golioth.golioth.Project object at 0xffff7f96d710>\nreleases = {'test_blocks': Release <66feff8c2860a8ee0e30436a, release_tags=[], device_tags=['66feff8b2860a8ee0e304367'], artifact..., release_tags=[], device_tags=['66feff8b2860a8ee0e304367'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 6 == 5\nE            +  where 6 = int('6')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","steps":[],"attachments":[{"uid":"31621fd796586cde","name":"stdout","source":"31621fd796586cde.txt","type":"text/plain","size":2847}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"releases_teardown::0","time":{"start":1727987652487,"stop":1727987653498,"duration":1011},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases::0","time":{"start":1727987653500,"stop":1727987655480,"duration":1980},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag::0","time":{"start":1727987655482,"stop":1727987656304,"duration":822},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts::0","time":{"start":1727987656306,"stop":1727987656306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1727987656308,"stop":1727987656308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1727987656310,"stop":1727987656680,"duration":370},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1727987656682,"stop":1727987656682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1727987656684,"stop":1727987656688,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"mimxrt1024_evk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.mimxrt1024_evk"},{"name":"tag","value":"tims_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"33c74766d59d"},{"name":"thread","value":"267-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'mimxrt1024_evk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":7,"skipped":0,"passed":63,"unknown":0,"total":75},"items":[{"uid":"41cd3754997eedc2","reportUrl":"https://golioth.github.io/allure-reports/1560//#testresult/41cd3754997eedc2","status":"passed","time":{"start":1727984409525,"stop":1727984487055,"duration":77530}},{"uid":"13b63c43b492d5d","reportUrl":"https://golioth.github.io/allure-reports/1556//#testresult/13b63c43b492d5d","status":"passed","time":{"start":1727978046052,"stop":1727978123029,"duration":76977}},{"uid":"31878f12ed258c8b","reportUrl":"https://golioth.github.io/allure-reports/1542//#testresult/31878f12ed258c8b","status":"passed","time":{"start":1727976262124,"stop":1727976339126,"duration":77002}},{"uid":"b111f3edf4d35892","reportUrl":"https://golioth.github.io/allure-reports/1547//#testresult/b111f3edf4d35892","status":"passed","time":{"start":1727972572789,"stop":1727972649874,"duration":77085}},{"uid":"32cf1517794243b8","reportUrl":"https://golioth.github.io/allure-reports/1544//#testresult/32cf1517794243b8","status":"passed","time":{"start":1727970172540,"stop":1727970251439,"duration":78899}},{"uid":"169c858c2d8b6d8b","reportUrl":"https://golioth.github.io/allure-reports/1543//#testresult/169c858c2d8b6d8b","status":"broken","statusDetails":"pylink.errors.JLinkFlashException: Specified file could not be opened.","time":{"start":1727967847813,"stop":1727967847813,"duration":0}},{"uid":"b1fc99dba1a630d3","reportUrl":"https://golioth.github.io/allure-reports/1542//#testresult/b1fc99dba1a630d3","status":"failed","statusDetails":"AssertionError: assert 2 == 1\n +  where 2 = int('2')","time":{"start":1727965381123,"stop":1727965402147,"duration":21024}},{"uid":"6e9a1904c4c42b1d","reportUrl":"https://golioth.github.io/allure-reports/1536//#testresult/6e9a1904c4c42b1d","status":"passed","time":{"start":1727958459074,"stop":1727958536600,"duration":77526}},{"uid":"7ee6e128744a2b39","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/7ee6e128744a2b39","status":"passed","time":{"start":1727955895023,"stop":1727955972863,"duration":77840}},{"uid":"a41643f69742c746","reportUrl":"https://golioth.github.io/allure-reports/1534//#testresult/a41643f69742c746","status":"passed","time":{"start":1727953456850,"stop":1727953534036,"duration":77186}},{"uid":"dee3bea5572147d3","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/dee3bea5572147d3","status":"passed","time":{"start":1727907188509,"stop":1727907265439,"duration":76930}},{"uid":"ba9328b8f27b5d6f","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/ba9328b8f27b5d6f","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"ec89581adf8c29f9","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/ec89581adf8c29f9","status":"passed","time":{"start":1727948085542,"stop":1727948162565,"duration":77023}},{"uid":"74a2e923e0f6918b","reportUrl":"https://golioth.github.io/allure-reports/1529//#testresult/74a2e923e0f6918b","status":"failed","statusDetails":"AssertionError: assert 7 == 6\n +  where 7 = int('7')","time":{"start":1727944897970,"stop":1727944955858,"duration":57888}},{"uid":"777c360e498ff962","reportUrl":"https://golioth.github.io/allure-reports/1528//#testresult/777c360e498ff962","status":"failed","statusDetails":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","time":{"start":1727944911277,"stop":1727944961434,"duration":50157}},{"uid":"ccc533d1b4278313","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/ccc533d1b4278313","status":"passed","time":{"start":1727832455559,"stop":1727832532654,"duration":77095}},{"uid":"ca211b6c4915fa25","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/ca211b6c4915fa25","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"e9caa1903b75f3f1","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/e9caa1903b75f3f1","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"62adb12f92f83bb0","reportUrl":"https://golioth.github.io/allure-reports/1526//#testresult/62adb12f92f83bb0","status":"passed","time":{"start":1727916160395,"stop":1727916237599,"duration":77204}},{"uid":"ab9b429ace1e5023","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/ab9b429ace1e5023","status":"passed","time":{"start":1727907188509,"stop":1727907265439,"duration":76930}}]},"tags":["anyio","tims_orange_pi","@pytest.mark.usefixtures('anyio_backend')","mimxrt1024_evk","zephyr"]},"source":"dcc7ab0102a2c84f.json","parameterValues":["'mimxrt1024_evk'","'zephyr'"]}