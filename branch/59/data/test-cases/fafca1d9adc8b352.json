{"uid":"fafca1d9adc8b352","name":"test_hello","fullName":"modules.lib.golioth-firmware-sdk.examples.zephyr.hello.pytest.test_sample#test_hello","historyId":"62f122e1e892b6a4ca7700385fbbf6dd","time":{"start":1736958568693,"stop":1736958590073,"duration":21380},"status":"failed","statusMessage":"AssertionError: Unable to find all Hello messages on server\nassert 0 == 3","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0x7f6c520a8410>\ndevice = <golioth.golioth.Device object at 0x7f6c5208d850>, wifi_ssid = None\nwifi_psk = None\n\n    async def test_hello(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Record timestamp and wait for fourth hello message\n    \n        start = datetime.datetime.utcnow()\n        shell._device.readlines_until(regex=\".*Sending hello! 3\", timeout=110.0)\n    \n        # Check logs for hello messages\n    \n        end = datetime.datetime.utcnow()\n    \n        logs = await device.get_logs({'start': start.strftime('%Y-%m-%dT%H:%M:%S.%fZ'), 'end': end.strftime('%Y-%m-%dT%H:%M:%S.%fZ')})\n    \n        # Test logs received from server\n    \n        LOGGER.info(\"Searching log messages from end to start:\")\n        test_idx = 2\n        test_hits = 0\n        for m in reversed(logs):\n    \n            if m.message == f\"Sending hello! {test_idx}\":\n                LOGGER.info(\"### MATCH FOUND! ---> {0}\".format(m.message))\n                test_hits += 1\n                test_idx -= 1\n                if test_idx < 0:\n                    break\n            else:\n                LOGGER.info(m.message)\n    \n>       assert test_hits == 3, 'Unable to find all Hello messages on server'\nE       AssertionError: Unable to find all Hello messages on server\nE       assert 0 == 3\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/hello/pytest/test_sample.py:54: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"wifi_ssid","time":{"start":1736958567627,"stop":1736958567628,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"anyio_backend","time":{"start":1736958567627,"stop":1736958567627,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1736958567628,"stop":1736958567628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object","time":{"start":1736958567628,"stop":1736958567629,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1736958567628,"stop":1736958567628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"twister_harness_config","time":{"start":1736958567628,"stop":1736958567628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1736958567629,"stop":1736958567936,"duration":307},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1736958567629,"stop":1736958567629,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1736958567629,"stop":1736958567629,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1736958567936,"stop":1736958568663,"duration":727},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dut","time":{"start":1736958568664,"stop":1736958568665,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shell","time":{"start":1736958568665,"stop":1736958568693,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Unable to find all Hello messages on server\nassert 0 == 3","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0x7f6c520a8410>\ndevice = <golioth.golioth.Device object at 0x7f6c5208d850>, wifi_ssid = None\nwifi_psk = None\n\n    async def test_hello(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Record timestamp and wait for fourth hello message\n    \n        start = datetime.datetime.utcnow()\n        shell._device.readlines_until(regex=\".*Sending hello! 3\", timeout=110.0)\n    \n        # Check logs for hello messages\n    \n        end = datetime.datetime.utcnow()\n    \n        logs = await device.get_logs({'start': start.strftime('%Y-%m-%dT%H:%M:%S.%fZ'), 'end': end.strftime('%Y-%m-%dT%H:%M:%S.%fZ')})\n    \n        # Test logs received from server\n    \n        LOGGER.info(\"Searching log messages from end to start:\")\n        test_idx = 2\n        test_hits = 0\n        for m in reversed(logs):\n    \n            if m.message == f\"Sending hello! {test_idx}\":\n                LOGGER.info(\"### MATCH FOUND! ---> {0}\".format(m.message))\n                test_hits += 1\n                test_idx -= 1\n                if test_idx < 0:\n                    break\n            else:\n                LOGGER.info(m.message)\n    \n>       assert test_hits == 3, 'Unable to find all Hello messages on server'\nE       AssertionError: Unable to find all Hello messages on server\nE       assert 0 == 3\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/hello/pytest/test_sample.py:54: AssertionError","steps":[],"attachments":[{"uid":"7226d1860e4765ef","name":"log","source":"7226d1860e4765ef.txt","type":"text/plain","size":15273}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"dut::0","time":{"start":1736958590128,"stop":1736958590641,"duration":513},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1736958590641,"stop":1736958590843,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1736958590843,"stop":1736958590844,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object::0","time":{"start":1736958590845,"stop":1736958590845,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"native_sim_32"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"sample.zephyr.native_sim_32"},{"name":"tag","value":"GitHub Actions 25"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"93b7d7863ada"},{"name":"thread","value":"46614-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"modules.lib.golioth-firmware-sdk.examples.zephyr.hello.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'native_sim_32'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"796141f51dcda4fe","status":"failed","statusDetails":"AssertionError: Unable to find all Hello messages on server\nassert 0 == 3","time":{"start":1736958564466,"stop":1736958586013,"duration":21547}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":40,"unknown":0,"total":44},"items":[{"uid":"dc1c2c3c8b856180","reportUrl":"https://golioth.github.io/allure-reports/branch/52//#testresult/dc1c2c3c8b856180","status":"passed","time":{"start":1736576562849,"stop":1736576584514,"duration":21665}},{"uid":"b12f357dd3b42182","reportUrl":"https://golioth.github.io/allure-reports/branch/51//#testresult/b12f357dd3b42182","status":"passed","time":{"start":1736576384695,"stop":1736576406035,"duration":21340}},{"uid":"d412396f4ce34759","reportUrl":"https://golioth.github.io/allure-reports/branch/47//#testresult/d412396f4ce34759","status":"passed","time":{"start":1736525906031,"stop":1736525927324,"duration":21293}},{"uid":"40bccd7b4690b1fe","reportUrl":"https://golioth.github.io/allure-reports/branch/46//#testresult/40bccd7b4690b1fe","status":"passed","time":{"start":1736522777819,"stop":1736522799085,"duration":21266}},{"uid":"a885e18448494082","reportUrl":"https://golioth.github.io/allure-reports/branch/43//#testresult/a885e18448494082","status":"passed","time":{"start":1736442471628,"stop":1736442492841,"duration":21213}},{"uid":"2bad8be573cbb378","reportUrl":"https://golioth.github.io/allure-reports/branch/42//#testresult/2bad8be573cbb378","status":"passed","time":{"start":1736438440739,"stop":1736438462278,"duration":21539}},{"uid":"4f3781086e6b717e","reportUrl":"https://golioth.github.io/allure-reports/branch/43//#testresult/4f3781086e6b717e","status":"passed","time":{"start":1736442471628,"stop":1736442492841,"duration":21213}},{"uid":"7c0b404f3e88216b","reportUrl":"https://golioth.github.io/allure-reports/branch/42//#testresult/7c0b404f3e88216b","status":"passed","time":{"start":1736438440739,"stop":1736438462278,"duration":21539}},{"uid":"20bbe3955527c2fa","reportUrl":"https://golioth.github.io/allure-reports/branch/39//#testresult/20bbe3955527c2fa","status":"passed","time":{"start":1736429581303,"stop":1736429602916,"duration":21613}},{"uid":"39d1cf298328660d","reportUrl":"https://golioth.github.io/allure-reports/branch/39//#testresult/39d1cf298328660d","status":"passed","time":{"start":1736429581303,"stop":1736429602916,"duration":21613}},{"uid":"bb91a37c5edbc054","reportUrl":"https://golioth.github.io/allure-reports/branch/26/#testresult/bb91a37c5edbc054","status":"passed","time":{"start":1736378753544,"stop":1736378774815,"duration":21271}},{"uid":"85fa3ceb52bdac4a","reportUrl":"https://golioth.github.io/allure-reports/branch/26/#testresult/85fa3ceb52bdac4a","status":"failed","statusDetails":"AssertionError: Unable to find all Hello messages on server\nassert 0 == 3","time":{"start":1736375055369,"stop":1736375076860,"duration":21491}},{"uid":"a32921f395ae4071","reportUrl":"https://golioth.github.io/allure-reports/branch/27/#testresult/a32921f395ae4071","status":"passed","time":{"start":1736278754686,"stop":1736278776168,"duration":21482}},{"uid":"9ebb724a66bd55fe","reportUrl":"https://golioth.github.io/allure-reports/branch/5/#testresult/9ebb724a66bd55fe","status":"passed","time":{"start":1736349886741,"stop":1736349908084,"duration":21343}},{"uid":"de6b5fd68d2ac3b5","reportUrl":"https://golioth.github.io/allure-reports/branch/4/#testresult/de6b5fd68d2ac3b5","status":"passed","time":{"start":1736349572478,"stop":1736349594041,"duration":21563}},{"uid":"faa5e0fcbb726e55","reportUrl":"https://golioth.github.io/allure-reports/branch/29/#testresult/faa5e0fcbb726e55","status":"passed","time":{"start":1736350718088,"stop":1736350739507,"duration":21419}},{"uid":"ff969f4c872418ac","reportUrl":"https://golioth.github.io/allure-reports/branch/27/#testresult/ff969f4c872418ac","status":"passed","time":{"start":1736278754686,"stop":1736278776168,"duration":21482}},{"uid":"ca3f97d196a77626","reportUrl":"https://golioth.github.io/allure-reports/branch/26/#testresult/ca3f97d196a77626","status":"failed","statusDetails":"AssertionError: Unable to find all Hello messages on server\nassert 0 == 3","time":{"start":1736278618077,"stop":1736278639628,"duration":21551}},{"uid":"49f1da1202c5037a","reportUrl":"https://golioth.github.io/allure-reports/branch/25//#testresult/49f1da1202c5037a","status":"passed","time":{"start":1736269071608,"stop":1736269093124,"duration":21516}},{"uid":"f34e28a3d90b8c33","reportUrl":"https://golioth.github.io/allure-reports/branch/24/#testresult/f34e28a3d90b8c33","status":"passed","time":{"start":1736264466010,"stop":1736264487264,"duration":21254}}]},"tags":["GitHub Actions 25","anyio","native_sim_32","@pytest.mark.usefixtures('anyio_backend')","zephyr"]},"source":"fafca1d9adc8b352.json","parameterValues":["'native_sim_32'","'zephyr'"]}