{"uid":"55e824dc4c4c7bfa","name":"test_reason_and_state","fullName":"tests.hil.tests.ota.test_ota#test_reason_and_state","historyId":"f9f5fc54eebc09467a311bd3212c0fe3","time":{"start":1759716876606,"stop":1759716904483,"duration":27877},"status":"broken","statusMessage":"NameError: name 'false' is not defined","statusTrace":"board = <pytest_hil.nrf9160dk.nRF9160DK object at 0xffffb6be30e0>\ndevice = <golioth.golioth.Device object at 0xffffb69c0980>\nproject = <golioth.golioth.Project object at 0xffffb6be3cb0>\nreleases = {'test_blocks': Release <68e32596b6c731f600fa5737, release_tags=[], device_tags=['68e32594b6c731f600fa5734'], artifact...ease_tags=[], device_tags=['68e32594b6c731f600fa5734'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>, ...}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            retries_left = 20\n    \n            while retries_left:\n                await trio.sleep(1)\n                retries_left -= 1\n    \n                await device.refresh()\n    \n                try:\n>                   latest_reason_code = int(device.metadata['update']['lobster']['reasonCode'])\n                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nE                   KeyError: 'lobster'\n\ntests/hil/tests/ota/test_ota.py:204: KeyError\n\nDuring handling of the above exception, another exception occurred:\n\nboard = <pytest_hil.nrf9160dk.nRF9160DK object at 0xffffb6be30e0>\ndevice = <golioth.golioth.Device object at 0xffffb69c0980>\nproject = <golioth.golioth.Project object at 0xffffb6be3cb0>\nreleases = {'test_blocks': Release <68e32596b6c731f600fa5737, release_tags=[], device_tags=['68e32594b6c731f600fa5734'], artifact...ease_tags=[], device_tags=['68e32594b6c731f600fa5734'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>, ...}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            retries_left = 20\n    \n            while retries_left:\n                await trio.sleep(1)\n                retries_left -= 1\n    \n                await device.refresh()\n    \n                try:\n                    latest_reason_code = int(device.metadata['update']['lobster']['reasonCode'])\n                except:\n                    if retries_left == 0:\n>                       assert false, \"Unable to get reason/state using REST API\"\n                               ^^^^^\nE                       NameError: name 'false' is not defined\n\ntests/hil/tests/ota/test_ota.py:207: NameError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1759716699115,"stop":1759716699115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1759716699116,"stop":1759716699116,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1759716699117,"stop":1759716699118,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1759716699117,"stop":1759716699117,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1759716699118,"stop":1759716699119,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1759716699118,"stop":1759716699118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1759716699119,"stop":1759716699119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1759716699120,"stop":1759716713933,"duration":14813},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1759716713936,"stop":1759716714862,"duration":926},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1759716714863,"stop":1759716715773,"duration":910},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1759716715774,"stop":1759716756190,"duration":40416},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1759716756192,"stop":1759716756630,"duration":438},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag","time":{"start":1759716756631,"stop":1759716757330,"duration":699},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases","time":{"start":1759716757330,"stop":1759716759058,"duration":1728},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases_teardown","time":{"start":1759716876603,"stop":1759716876603,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"releases_teardown::0","time":{"start":1759716904557,"stop":1759716905183,"duration":626},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases::0","time":{"start":1759716905186,"stop":1759716906769,"duration":1583},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag::0","time":{"start":1759716906771,"stop":1759716907404,"duration":633},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts::0","time":{"start":1759716907407,"stop":1759716907407,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1759716907409,"stop":1759716907409,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1759716907411,"stop":1759716907728,"duration":317},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1759716907730,"stop":1759716907731,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1759716907733,"stop":1759716907779,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"nrf9160dk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.nrf9160dk"},{"name":"tag","value":"sams_orange_pi"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"ef1334574d65"},{"name":"thread","value":"227-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'nrf9160dk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e567a2663f4cb024","status":"broken","statusDetails":"httpx.ConnectError: [Errno -5] No address associated with hostname","time":{"start":1759376009631,"stop":1759376009631,"duration":0}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":9,"unknown":0,"total":12},"items":[{"uid":"8583c0fdcd24656d","reportUrl":"https://golioth.github.io/allure-reports/branch/739//#testresult/8583c0fdcd24656d","status":"passed","time":{"start":1759514454504,"stop":1759514512348,"duration":57844}},{"uid":"c0ecac0527fcd8d","reportUrl":"https://golioth.github.io/allure-reports/branch/739//#testresult/c0ecac0527fcd8d","status":"passed","time":{"start":1759514454504,"stop":1759514512348,"duration":57844}},{"uid":"5b6007e54347b83c","reportUrl":"https://golioth.github.io/allure-reports/branch/729//#testresult/5b6007e54347b83c","status":"passed","time":{"start":1759175667487,"stop":1759175726203,"duration":58716}},{"uid":"4997537b744a9a0","reportUrl":"https://golioth.github.io/allure-reports/branch/737//#testresult/4997537b744a9a0","status":"passed","time":{"start":1759376680750,"stop":1759376738226,"duration":57476}},{"uid":"84a09833cc5dcab7","reportUrl":"https://golioth.github.io/allure-reports/branch/735//#testresult/84a09833cc5dcab7","status":"broken","statusDetails":"httpx.ConnectError: [Errno -5] No address associated with hostname","time":{"start":1759376009631,"stop":1759376009631,"duration":0}},{"uid":"4676c9928eea792e","reportUrl":"https://golioth.github.io/allure-reports/branch/732//#testresult/4676c9928eea792e","status":"passed","time":{"start":1759272523875,"stop":1759272576981,"duration":53106}},{"uid":"1d2b62759dfa5fdb","reportUrl":"https://golioth.github.io/allure-reports/branch/729//#testresult/1d2b62759dfa5fdb","status":"passed","time":{"start":1759175667487,"stop":1759175726203,"duration":58716}},{"uid":"eb3e95627fa49ff3","reportUrl":"https://golioth.github.io/allure-reports/branch/729//#testresult/eb3e95627fa49ff3","status":"passed","time":{"start":1759175667487,"stop":1759175726203,"duration":58716}},{"uid":"698fcdf49dd92cf6","reportUrl":"https://golioth.github.io/allure-reports/branch/728//#testresult/698fcdf49dd92cf6","status":"broken","statusDetails":"trio.TooSlowError","time":{"start":1759163571960,"stop":1759163571960,"duration":0}},{"uid":"1eb8198d3e3e1612","reportUrl":"https://golioth.github.io/allure-reports/branch/726//#testresult/1eb8198d3e3e1612","status":"passed","time":{"start":1759121089046,"stop":1759121139422,"duration":50376}},{"uid":"cc74544165ccc8e3","reportUrl":"https://golioth.github.io/allure-reports/branch/723//#testresult/cc74544165ccc8e3","status":"passed","time":{"start":1758917660597,"stop":1758917715306,"duration":54709}}]},"tags":["nrf9160dk","anyio","sams_orange_pi","zephyr"]},"source":"55e824dc4c4c7bfa.json","parameterValues":["'nrf9160dk'","'zephyr'"]}