{"uid":"91419d95c6cd4dfe","name":"test_stream","fullName":"examples.esp_idf.stream.pytest.test_sample#test_stream","historyId":"8de1da5b76f241e44d5455d86d5f64f8","time":{"start":1761319022710,"stop":1761319028085,"duration":5375},"status":"broken","statusMessage":"AttributeError: 'DeviceStream' object has no attribute 'iter'","statusTrace":"board = <pytest_hil.espidfboard.ESPIDFBoard object at 0xffff8fe4d010>\ndevice = <golioth.golioth.Device object at 0xffff8f539e80>\n\n    async def test_stream(board, device):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n        golioth_cred = (await device.credentials.list())[0]\n        await board.set_golioth_psk_credentials(golioth_cred.identity, golioth_cred.key)\n    \n        # Wait for device to connect\n        await board.wait_for_regex_in_line('.*Golioth client connected', timeout_s=30.0)\n    \n        # Verify temp messages\n    \n        lower_temp = 20.0\n        upper_temp = 21.5\n>       async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n                                       ^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'DeviceStream' object has no attribute 'iter'\n\nexamples/esp_idf/stream/pytest/test_sample.py:29: AttributeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1761318991248,"stop":1761318991248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1761318991249,"stop":1761318991249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1761318991250,"stop":1761318991250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1761318991250,"stop":1761318991250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1761318991251,"stop":1761318991252,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1761318991251,"stop":1761318991251,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1761318991252,"stop":1761318991252,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1761318991252,"stop":1761319021555,"duration":30303},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1761318991286,"stop":1761318991286,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1761318991287,"stop":1761318991287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1761318991287,"stop":1761318991287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1761318991288,"stop":1761318991288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1761318991288,"stop":1761318991288,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1761319021557,"stop":1761319022094,"duration":537},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761319022095,"stop":1761319022706,"duration":611},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'DeviceStream' object has no attribute 'iter'","statusTrace":"board = <pytest_hil.espidfboard.ESPIDFBoard object at 0xffff8fe4d010>\ndevice = <golioth.golioth.Device object at 0xffff8f539e80>\n\n    async def test_stream(board, device):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n        golioth_cred = (await device.credentials.list())[0]\n        await board.set_golioth_psk_credentials(golioth_cred.identity, golioth_cred.key)\n    \n        # Wait for device to connect\n        await board.wait_for_regex_in_line('.*Golioth client connected', timeout_s=30.0)\n    \n        # Verify temp messages\n    \n        lower_temp = 20.0\n        upper_temp = 21.5\n>       async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n                                       ^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'DeviceStream' object has no attribute 'iter'\n\nexamples/esp_idf/stream/pytest/test_sample.py:29: AttributeError","steps":[],"attachments":[{"uid":"d5720b40092173b6","name":"stdout","source":"d5720b40092173b6.txt","type":"text/plain","size":9698}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"device::0","time":{"start":1761319028295,"stop":1761319028610,"duration":315},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1761319028612,"stop":1761319028612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1761319028614,"stop":1761319028624,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"esp32s3_devkitc_espidf"},{"name":"tag","value":"esp-idf"},{"name":"parentSuite","value":"sample.esp-idf.esp32s3_devkitc_espidf"},{"name":"tag","value":"jons_orange_pi"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"1e5bf11126d9"},{"name":"thread","value":"294-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"examples.esp_idf.stream.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'esp32s3_devkitc_espidf'"},{"name":"platform_name","value":"'esp-idf'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":8,"unknown":0,"total":10},"items":[{"uid":"e88fdbcba3b7e29d","reportUrl":"https://golioth.github.io/allure-reports/branch/813//#testresult/e88fdbcba3b7e29d","status":"passed","time":{"start":1761258702996,"stop":1761258727083,"duration":24087}},{"uid":"549a8ee6a64b5047","reportUrl":"https://golioth.github.io/allure-reports/branch/809//#testresult/549a8ee6a64b5047","status":"broken","statusDetails":"TypeError: Board.wait_for_regex_in_line() got an unexpected keyword argument 'timeout'. Did you mean 'timeout_s'?","time":{"start":1761249206724,"stop":1761249212088,"duration":5364}},{"uid":"3879e7176320c1b3","reportUrl":"https://golioth.github.io/allure-reports/branch/790//#testresult/3879e7176320c1b3","status":"passed","time":{"start":1761075574078,"stop":1761075597659,"duration":23581}},{"uid":"e7126f12172ef8cd","reportUrl":"https://golioth.github.io/allure-reports/branch/790//#testresult/e7126f12172ef8cd","status":"passed","time":{"start":1761075574078,"stop":1761075597659,"duration":23581}},{"uid":"1d949a1ee2d0aa1d","reportUrl":"https://golioth.github.io/allure-reports/branch/788//#testresult/1d949a1ee2d0aa1d","status":"passed","time":{"start":1761070009092,"stop":1761070032343,"duration":23251}},{"uid":"b8df65e10d40871f","reportUrl":"https://golioth.github.io/allure-reports/branch/788//#testresult/b8df65e10d40871f","status":"passed","time":{"start":1761065721827,"stop":1761065745494,"duration":23667}},{"uid":"2387ef31c8f2cb2f","reportUrl":"https://golioth.github.io/allure-reports/branch/787//#testresult/2387ef31c8f2cb2f","status":"passed","time":{"start":1761056776723,"stop":1761056804684,"duration":27961}},{"uid":"322a102798705021","reportUrl":"https://golioth.github.io/allure-reports/branch/784//#testresult/322a102798705021","status":"passed","time":{"start":1760994889132,"stop":1760994911860,"duration":22728}},{"uid":"8729b2c49c07b7b","reportUrl":"https://golioth.github.io/allure-reports/branch/783//#testresult/8729b2c49c07b7b","status":"passed","time":{"start":1760992108794,"stop":1760992131191,"duration":22397}}]},"tags":["esp32s3_devkitc_espidf","esp-idf","jons_orange_pi","anyio"]},"source":"91419d95c6cd4dfe.json","parameterValues":["'esp32s3_devkitc_espidf'","'esp-idf'"]}