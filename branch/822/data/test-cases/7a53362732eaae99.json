{"uid":"7a53362732eaae99","name":"test_stream","fullName":"modules.lib.golioth-firmware-sdk.examples.zephyr.stream.pytest.test_sample#test_stream","historyId":"971ce698793d8bade5e5481d115988c7","time":{"start":1761317256099,"stop":1761317258273,"duration":2174},"status":"broken","statusMessage":"AttributeError: 'DeviceStream' object has no attribute 'iter'","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0x7fbd217edd30>\ndevice = <golioth.golioth.Device object at 0x7fbd2175c050>, wifi_ssid = None\nwifi_psk = None\n\n    async def test_stream(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None and wifi_psk is not None:\n            shell.exec_command(f\"wifi cred add -k 1 -s \\\"{wifi_ssid}\\\" -p \\\"{wifi_psk}\\\"\")\n            shell.exec_command(\"wifi cred auto_connect\")\n    \n        # Verify temp messages\n    \n        temp = 20.0\n>       async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n                                       ^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'DeviceStream' object has no attribute 'iter'\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/stream/pytest/test_sample.py:29: AttributeError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"wifi_psk","time":{"start":1761317255559,"stop":1761317255559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1761317255559,"stop":1761317255559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1761317255559,"stop":1761317255560,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"anyio_backend","time":{"start":1761317255559,"stop":1761317255559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1761317255560,"stop":1761317255560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"twister_harness_config","time":{"start":1761317255560,"stop":1761317255560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1761317255560,"stop":1761317255560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object","time":{"start":1761317255560,"stop":1761317255560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1761317255561,"stop":1761317255782,"duration":221},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1761317255782,"stop":1761317256066,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dut","time":{"start":1761317256066,"stop":1761317256077,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shell","time":{"start":1761317256077,"stop":1761317256098,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"AttributeError: 'DeviceStream' object has no attribute 'iter'","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0x7fbd217edd30>\ndevice = <golioth.golioth.Device object at 0x7fbd2175c050>, wifi_ssid = None\nwifi_psk = None\n\n    async def test_stream(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None and wifi_psk is not None:\n            shell.exec_command(f\"wifi cred add -k 1 -s \\\"{wifi_ssid}\\\" -p \\\"{wifi_psk}\\\"\")\n            shell.exec_command(\"wifi cred auto_connect\")\n    \n        # Verify temp messages\n    \n        temp = 20.0\n>       async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n                                       ^^^^^^^^^^^^^^^^^^\nE       AttributeError: 'DeviceStream' object has no attribute 'iter'\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/stream/pytest/test_sample.py:29: AttributeError","steps":[],"attachments":[{"uid":"2039ea6acd47f320","name":"log","source":"2039ea6acd47f320.txt","type":"text/plain","size":11595}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"dut::0","time":{"start":1761317258516,"stop":1761317258734,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1761317258734,"stop":1761317258860,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1761317258864,"stop":1761317258868,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object::0","time":{"start":1761317258869,"stop":1761317258869,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"native_sim_32"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"sample.zephyr.native_sim_32"},{"name":"tag","value":"GitHub Actions 1000070138"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"fe86e77e1e20"},{"name":"thread","value":"72654-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"modules.lib.golioth-firmware-sdk.examples.zephyr.stream.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'native_sim_32'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":9,"unknown":0,"total":10},"items":[{"uid":"bcbacddddaa340be","reportUrl":"https://golioth.github.io/allure-reports/branch/813//#testresult/bcbacddddaa340be","status":"passed","time":{"start":1761256954203,"stop":1761256976685,"duration":22482}},{"uid":"92dd07cc2725c9a3","reportUrl":"https://golioth.github.io/allure-reports/branch/809//#testresult/92dd07cc2725c9a3","status":"passed","time":{"start":1761247386981,"stop":1761247409327,"duration":22346}},{"uid":"f4e980cd9a7bacf8","reportUrl":"https://golioth.github.io/allure-reports/branch/790//#testresult/f4e980cd9a7bacf8","status":"passed","time":{"start":1761073019998,"stop":1761073041232,"duration":21234}},{"uid":"a14c3ff3ca5be2c9","reportUrl":"https://golioth.github.io/allure-reports/branch/790//#testresult/a14c3ff3ca5be2c9","status":"passed","time":{"start":1761073019998,"stop":1761073041232,"duration":21234}},{"uid":"f8490638c30852e5","reportUrl":"https://golioth.github.io/allure-reports/branch/788//#testresult/f8490638c30852e5","status":"passed","time":{"start":1761064956912,"stop":1761064977347,"duration":20435}},{"uid":"2f6fa48d1b72aec4","reportUrl":"https://golioth.github.io/allure-reports/branch/788//#testresult/2f6fa48d1b72aec4","status":"passed","time":{"start":1761064956912,"stop":1761064977347,"duration":20435}},{"uid":"44f467071317bdac","reportUrl":"https://golioth.github.io/allure-reports/branch/787//#testresult/44f467071317bdac","status":"passed","time":{"start":1761054656689,"stop":1761054679862,"duration":23173}},{"uid":"335594873ab462d6","reportUrl":"https://golioth.github.io/allure-reports/branch/784//#testresult/335594873ab462d6","status":"passed","time":{"start":1760992958965,"stop":1760992979754,"duration":20789}},{"uid":"d95a416570272f2e","reportUrl":"https://golioth.github.io/allure-reports/branch/783//#testresult/d95a416570272f2e","status":"passed","time":{"start":1760990437099,"stop":1760990457841,"duration":20742}}]},"tags":["anyio","native_sim_32","GitHub Actions 1000070138","zephyr"]},"source":"7a53362732eaae99.json","parameterValues":["'native_sim_32'","'zephyr'"]}