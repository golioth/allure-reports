{"uid":"3c9b3b82aeb13437","name":"test_reason_and_state","fullName":"tests.hil.tests.ota.test_ota#test_reason_and_state","historyId":"cb1422e4370021e6294c8318ca9786ac","time":{"start":1737548718450,"stop":1737548749545,"duration":31095},"status":"broken","statusMessage":"NameError: name 'false' is not defined","statusTrace":"board = <esp32_devkitc_wrover.ESP32DevKitCWROVER object at 0xffff8d2942d0>\ndevice = <golioth.golioth.Device object at 0xffff8d3f5650>\nproject = <golioth.golioth.Project object at 0xffff8d381c90>\nreleases = {'test_blocks': Release <6790e39ce7f18576acc990de, release_tags=[], device_tags=['6790e39ae7f18576acc990da'], artifact...ease_tags=[], device_tags=['6790e39ae7f18576acc990da'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>, ...}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            retries_left = 20\n    \n            while retries_left:\n                await trio.sleep(1)\n                retries_left -= 1\n    \n                await device.refresh()\n    \n                try:\n>                   latest_reason_code = int(device.metadata['update']['lobster']['reasonCode'])\nE                   KeyError: 'lobster'\n\ntests/hil/tests/ota/test_ota.py:198: KeyError\n\nDuring handling of the above exception, another exception occurred:\n\nboard = <esp32_devkitc_wrover.ESP32DevKitCWROVER object at 0xffff8d2942d0>\ndevice = <golioth.golioth.Device object at 0xffff8d3f5650>\nproject = <golioth.golioth.Project object at 0xffff8d381c90>\nreleases = {'test_blocks': Release <6790e39ce7f18576acc990de, release_tags=[], device_tags=['6790e39ae7f18576acc990da'], artifact...ease_tags=[], device_tags=['6790e39ae7f18576acc990da'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>, ...}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            retries_left = 20\n    \n            while retries_left:\n                await trio.sleep(1)\n                retries_left -= 1\n    \n                await device.refresh()\n    \n                try:\n                    latest_reason_code = int(device.metadata['update']['lobster']['reasonCode'])\n                except:\n                    if retries_left == 0:\n>                       assert false, \"Unable to get reason/state using REST API\"\nE                       NameError: name 'false' is not defined\n\ntests/hil/tests/ota/test_ota.py:201: NameError","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1737548642300,"stop":1737548642300,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1737548642301,"stop":1737548642301,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1737548642302,"stop":1737548642302,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1737548642303,"stop":1737548642303,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1737548642304,"stop":1737548642304,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1737548642304,"stop":1737548642305,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1737548642305,"stop":1737548642305,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1737548642306,"stop":1737548642306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1737548642307,"stop":1737548642307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1737548642307,"stop":1737548642307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1737548642308,"stop":1737548642308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1737548642308,"stop":1737548642308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1737548642309,"stop":1737548686903,"duration":44594},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1737548686905,"stop":1737548687349,"duration":444},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1737548687350,"stop":1737548688158,"duration":808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1737548688158,"stop":1737548697834,"duration":9676},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1737548697835,"stop":1737548698311,"duration":476},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag","time":{"start":1737548698312,"stop":1737548699081,"duration":769},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases","time":{"start":1737548699082,"stop":1737548701053,"duration":1971},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases_teardown","time":{"start":1737548718447,"stop":1737548718447,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"afterStages":[{"name":"releases_teardown::0","time":{"start":1737548749638,"stop":1737548750797,"duration":1159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases::0","time":{"start":1737548750799,"stop":1737548752769,"duration":1970},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag::0","time":{"start":1737548752771,"stop":1737548753537,"duration":766},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts::0","time":{"start":1737548753540,"stop":1737548753540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1737548753541,"stop":1737548753542,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1737548753544,"stop":1737548753933,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1737548753936,"stop":1737548753936,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1737548753938,"stop":1737548753941,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"esp32_devkitc_wrover"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.esp32_devkitc_wrover"},{"name":"tag","value":"mikes_testbench"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"da034711263f"},{"name":"thread","value":"234-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'esp32_devkitc_wrover'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":52,"unknown":0,"total":56},"items":[{"uid":"fd1788e6e0e3ff8e","reportUrl":"https://golioth.github.io/allure-reports/branch/83//#testresult/fd1788e6e0e3ff8e","status":"passed","time":{"start":1737540053295,"stop":1737540101027,"duration":47732}},{"uid":"36f7b0f867262359","reportUrl":"https://golioth.github.io/allure-reports/branch/84//#testresult/36f7b0f867262359","status":"passed","time":{"start":1737488335173,"stop":1737488382389,"duration":47216}},{"uid":"f3428baaade96dcf","reportUrl":"https://golioth.github.io/allure-reports/branch/84//#testresult/f3428baaade96dcf","status":"passed","time":{"start":1737488335173,"stop":1737488382389,"duration":47216}},{"uid":"e8108e6cde17514c","reportUrl":"https://golioth.github.io/allure-reports/branch/77//#testresult/e8108e6cde17514c","status":"passed","time":{"start":1737056466674,"stop":1737056513955,"duration":47281}},{"uid":"a0a338323a9e7baf","reportUrl":"https://golioth.github.io/allure-reports/branch/77//#testresult/a0a338323a9e7baf","status":"passed","time":{"start":1737056466674,"stop":1737056513955,"duration":47281}},{"uid":"f43d6f4c22dfbb28","reportUrl":"https://golioth.github.io/allure-reports/branch/66//#testresult/f43d6f4c22dfbb28","status":"passed","time":{"start":1736977718280,"stop":1736977765823,"duration":47543}},{"uid":"c8ce2e9b4577f7c5","reportUrl":"https://golioth.github.io/allure-reports/branch/74//#testresult/c8ce2e9b4577f7c5","status":"passed","time":{"start":1737016948357,"stop":1737016995700,"duration":47343}},{"uid":"efafbeabf323cb95","reportUrl":"https://golioth.github.io/allure-reports/branch/73//#testresult/efafbeabf323cb95","status":"passed","time":{"start":1737015075838,"stop":1737015123139,"duration":47301}},{"uid":"dd638f65be417055","reportUrl":"https://golioth.github.io/allure-reports/branch/66//#testresult/dd638f65be417055","status":"passed","time":{"start":1736977718280,"stop":1736977765823,"duration":47543}},{"uid":"64abad64c1ea2c43","reportUrl":"https://golioth.github.io/allure-reports/branch/65//#testresult/64abad64c1ea2c43","status":"passed","time":{"start":1736976158499,"stop":1736976205619,"duration":47120}},{"uid":"b5f390c120c399b8","reportUrl":"https://golioth.github.io/allure-reports/branch/59//#testresult/b5f390c120c399b8","status":"passed","time":{"start":1736960291406,"stop":1736960338753,"duration":47347}},{"uid":"5458deb6cbfae5b7","reportUrl":"https://golioth.github.io/allure-reports/branch/59//#testresult/5458deb6cbfae5b7","status":"passed","time":{"start":1736960291406,"stop":1736960338753,"duration":47347}},{"uid":"63cd13f6abb5a9bc","reportUrl":"https://golioth.github.io/allure-reports/branch/63//#testresult/63cd13f6abb5a9bc","status":"passed","time":{"start":1736968567653,"stop":1736968615146,"duration":47493}},{"uid":"5a089f5aa64014d5","reportUrl":"https://golioth.github.io/allure-reports/branch/59//#testresult/5a089f5aa64014d5","status":"passed","time":{"start":1736960291406,"stop":1736960338753,"duration":47347}},{"uid":"ec32f7da1ce65f80","reportUrl":"https://golioth.github.io/allure-reports/branch/52//#testresult/ec32f7da1ce65f80","status":"passed","time":{"start":1736582170098,"stop":1736582217682,"duration":47584}},{"uid":"d05aeb41e609b17c","reportUrl":"https://golioth.github.io/allure-reports/branch/51//#testresult/d05aeb41e609b17c","status":"passed","time":{"start":1736580081632,"stop":1736580129217,"duration":47585}},{"uid":"4e3dc0b96cecffc8","reportUrl":"https://golioth.github.io/allure-reports/branch/47//#testresult/4e3dc0b96cecffc8","status":"passed","time":{"start":1736528319632,"stop":1736528367036,"duration":47404}},{"uid":"cee2a088f50d4b8f","reportUrl":"https://golioth.github.io/allure-reports/branch/46//#testresult/cee2a088f50d4b8f","status":"passed","time":{"start":1736523033829,"stop":1736523081224,"duration":47395}},{"uid":"cdf9d15731f0d66e","reportUrl":"https://golioth.github.io/allure-reports/branch/43//#testresult/cdf9d15731f0d66e","status":"passed","time":{"start":1736443784246,"stop":1736443831590,"duration":47344}},{"uid":"d6c4bac1c105565a","reportUrl":"https://golioth.github.io/allure-reports/branch/42//#testresult/d6c4bac1c105565a","status":"passed","time":{"start":1736439017796,"stop":1736439065303,"duration":47507}}]},"tags":["anyio","mikes_testbench","esp32_devkitc_wrover","@pytest.mark.usefixtures('anyio_backend')","zephyr"]},"source":"3c9b3b82aeb13437.json","parameterValues":["'esp32_devkitc_wrover'","'zephyr'"]}