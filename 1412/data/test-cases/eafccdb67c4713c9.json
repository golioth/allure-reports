{"uid":"eafccdb67c4713c9","name":"test_stream","fullName":"modules.lib.golioth-firmware-sdk.examples.zephyr.stream.pytest.test_sample#test_stream","historyId":"92fec5fac7da5ac3a26deeb8207f2647","time":{"start":1727192685744,"stop":1727192772394,"duration":86650},"status":"failed","statusMessage":"AssertionError: assert 21.5 == 21.0","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0xffff7d80e750>\ndevice = <golioth.golioth.Device object at 0xffff7d82d750>\nwifi_ssid = '***SAMS_ORANGE_PI_WIFI_SSID***', wifi_psk = '***SAMS_ORANGE_PI_WIFI_PSK***'\n\n    async def test_stream(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Verify temp messages\n    \n        temp = 20.0\n        async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n            async for value in stream_iter:\n                LOGGER.info(\"ts: {0}, temp: {1}\".format(value['timestamp'], value['data']['temp']))\n>               assert (value[\"data\"][\"temp\"] == temp)\nE               assert 21.5 == 21.0\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/stream/pytest/test_sample.py:34: AssertionError","flaky":true,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"hil_board","time":{"start":1727192655750,"stop":1727192655750,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_allure_report_parent_suite","time":{"start":1727192655751,"stop":1727192655751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"anyio_backend","time":{"start":1727192655751,"stop":1727192655751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1727192655752,"stop":1727192655752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1727192655752,"stop":1727192655752,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_name","time":{"start":1727192655753,"stop":1727192655753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1727192655753,"stop":1727192655753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"twister_harness_config","time":{"start":1727192655754,"stop":1727192655754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object","time":{"start":1727192655754,"stop":1727192655756,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1727192655757,"stop":1727192655757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1727192655758,"stop":1727192655758,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1727192655758,"stop":1727192656297,"duration":539},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1727192656297,"stop":1727192657598,"duration":1301},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"add_allure_report_device_and_platform","time":{"start":1727192657599,"stop":1727192657599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dut","time":{"start":1727192657600,"stop":1727192684637,"duration":27037},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"shell","time":{"start":1727192684637,"stop":1727192685739,"duration":1102},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 21.5 == 21.0","statusTrace":"shell = <twister_harness.helpers.shell.Shell object at 0xffff7d80e750>\ndevice = <golioth.golioth.Device object at 0xffff7d82d750>\nwifi_ssid = '***SAMS_ORANGE_PI_WIFI_SSID***', wifi_psk = '***SAMS_ORANGE_PI_WIFI_PSK***'\n\n    async def test_stream(shell, device, wifi_ssid, wifi_psk):\n        await trio.sleep(2)\n    \n        # Set Golioth credential\n    \n        golioth_cred = (await device.credentials.list())[0]\n        shell.exec_command(f\"settings set golioth/psk-id {golioth_cred.identity}\")\n        shell.exec_command(f\"settings set golioth/psk {golioth_cred.key}\")\n    \n        # Set WiFi credential\n    \n        if wifi_ssid is not None:\n            shell.exec_command(f\"settings set wifi/ssid \\\"{wifi_ssid}\\\"\")\n    \n        if wifi_psk is not None:\n            shell.exec_command(f\"settings set wifi/psk \\\"{wifi_psk}\\\"\")\n    \n        # Verify temp messages\n    \n        temp = 20.0\n        async with contextlib.aclosing(device.stream.iter()) as stream_iter:\n            async for value in stream_iter:\n                LOGGER.info(\"ts: {0}, temp: {1}\".format(value['timestamp'], value['data']['temp']))\n>               assert (value[\"data\"][\"temp\"] == temp)\nE               assert 21.5 == 21.0\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/stream/pytest/test_sample.py:34: AssertionError","steps":[],"attachments":[{"uid":"d2a460fb6112d9dc","name":"log","source":"d2a460fb6112d9dc.txt","type":"text/plain","size":16134}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"dut::0","time":{"start":1727192772555,"stop":1727192772901,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1727192772904,"stop":1727192773410,"duration":506},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1727192773412,"stop":1727192773414,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object::0","time":{"start":1727192773419,"stop":1727192773419,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"sample.zephyr.nrf9160dk"},{"name":"tag","value":"nrf9160dk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"sample.zephyr.nrf9160dk"},{"name":"tag","value":"sams_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"5fc057f9c371"},{"name":"thread","value":"613-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"modules.lib.golioth-firmware-sdk.examples.zephyr.stream.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'nrf9160dk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":3,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":13},"items":[{"uid":"fc26d927f811599d","reportUrl":"https://golioth.github.io/allure-reports/1411//#testresult/fc26d927f811599d","status":"failed","statusDetails":"AssertionError: assert 21.5 == 20.5","time":{"start":1727139630895,"stop":1727139659504,"duration":28609}},{"uid":"debf92534c5ac491","reportUrl":"https://golioth.github.io/allure-reports/1410//#testresult/debf92534c5ac491","status":"passed","time":{"start":1727133558377,"stop":1727133582236,"duration":23859}},{"uid":"440f87d848bdcda5","reportUrl":"https://golioth.github.io/allure-reports/1409//#testresult/440f87d848bdcda5","status":"passed","time":{"start":1727053852870,"stop":1727053881691,"duration":28821}},{"uid":"692631107bc42bb4","reportUrl":"https://golioth.github.io/allure-reports/1407//#testresult/692631107bc42bb4","status":"passed","time":{"start":1726883610264,"stop":1726883634907,"duration":24643}},{"uid":"6e56b71dcc010cd3","reportUrl":"https://golioth.github.io/allure-reports/1406//#testresult/6e56b71dcc010cd3","status":"failed","statusDetails":"AssertionError: assert 22.5 == 21.0","time":{"start":1726880886794,"stop":1726880936271,"duration":49477}},{"uid":"7defba04cc7beb68","reportUrl":"https://golioth.github.io/allure-reports/1405//#testresult/7defba04cc7beb68","status":"passed","time":{"start":1726872576895,"stop":1726872599510,"duration":22615}},{"uid":"2db4cbb3de5926ec","reportUrl":"https://golioth.github.io/allure-reports/1404//#testresult/2db4cbb3de5926ec","status":"passed","time":{"start":1726869455881,"stop":1726869480895,"duration":25014}},{"uid":"86fdd0f6bd314951","reportUrl":"https://golioth.github.io/allure-reports/1403//#testresult/86fdd0f6bd314951","status":"passed","time":{"start":1726866972035,"stop":1726866996120,"duration":24085}},{"uid":"7eaeabf481967808","reportUrl":"https://golioth.github.io/allure-reports/1402//#testresult/7eaeabf481967808","status":"passed","time":{"start":1726864126992,"stop":1726864149499,"duration":22507}},{"uid":"3ce86c23feff91b7","reportUrl":"https://golioth.github.io/allure-reports/1400//#testresult/3ce86c23feff91b7","status":"passed","time":{"start":1726855998286,"stop":1726856024817,"duration":26531}},{"uid":"9b65336a97516bf5","reportUrl":"https://golioth.github.io/allure-reports/1396//#testresult/9b65336a97516bf5","status":"passed","time":{"start":1726848379197,"stop":1726848403884,"duration":24687}},{"uid":"a521eaab7aaa73e6","reportUrl":"https://golioth.github.io/allure-reports/1388//#testresult/a521eaab7aaa73e6","status":"passed","time":{"start":1726791006000,"stop":1726791027313,"duration":21313}}]},"tags":["nrf9160dk","anyio","sams_orange_pi","@pytest.mark.usefixtures('anyio_backend')","zephyr"]},"source":"eafccdb67c4713c9.json","parameterValues":["'nrf9160dk'","'zephyr'"]}