{"uid":"b1fc99dba1a630d3","name":"test_reason_and_state","fullName":"tests.hil.tests.ota.test_ota#test_reason_and_state","historyId":"805922d6f8e486f2169951f916b7199e","time":{"start":1727965381123,"stop":1727965402147,"duration":21024},"status":"failed","statusMessage":"AssertionError: assert 2 == 1\n +  where 2 = int('2')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffffa932a4d0>\ndevice = <golioth.golioth.Device object at 0xffffa92ade90>\nproject = <golioth.golioth.Project object at 0xffffa933a910>\nreleases = {'test_blocks': Release <66fea8bf2860a8ee0e302cbc, release_tags=[], device_tags=['66fea8bd2860a8ee0e302cb9'], artifact..., release_tags=[], device_tags=['66fea8bd2860a8ee0e302cb9'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 2 == 1\nE            +  where 2 = int('2')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1727965346169,"stop":1727965346169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board_name","time":{"start":1727965346170,"stop":1727965346171,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1727965346171,"stop":1727965346171,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1727965346172,"stop":1727965346172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1727965346172,"stop":1727965346173,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1727965346173,"stop":1727965346173,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1727965346173,"stop":1727965346174,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1727965346174,"stop":1727965346174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1727965346175,"stop":1727965346175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1727965346176,"stop":1727965346176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1727965346177,"stop":1727965346177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1727965346178,"stop":1727965364573,"duration":18395},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1727965346178,"stop":1727965346178,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1727965364574,"stop":1727965365132,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1727965365133,"stop":1727965365938,"duration":805},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1727965365939,"stop":1727965373072,"duration":7133},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1727965373073,"stop":1727965373509,"duration":436},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag","time":{"start":1727965373510,"stop":1727965374309,"duration":799},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases","time":{"start":1727965374309,"stop":1727965375843,"duration":1534},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases_teardown","time":{"start":1727965381120,"stop":1727965381121,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 2 == 1\n +  where 2 = int('2')","statusTrace":"board = <mimxrt1024evk.MIMXRT1024EVK object at 0xffffa932a4d0>\ndevice = <golioth.golioth.Device object at 0xffffa92ade90>\nproject = <golioth.golioth.Project object at 0xffffa933a910>\nreleases = {'test_blocks': Release <66fea8bf2860a8ee0e302cbc, release_tags=[], device_tags=['66fea8bd2860a8ee0e302cb9'], artifact..., release_tags=[], device_tags=['66fea8bd2860a8ee0e302cb9'], artifact_ids=['65f224ee02bfe41201d4b3c9'], rollout=False>}\n\n    async def test_reason_and_state(board, device, project, releases):\n        await project.releases.rollout_set(releases[\"test_reasons\"].id, True)\n        # Test reason and state code updates\n    \n        for i, r in enumerate(golioth_ota_reason):\n            await board.wait_for_regex_in_line(\"OTA status reported successfully\", timeout_s=20)\n    \n            # Wait for state update to propagate\n            await trio.sleep(2)\n    \n            await device.refresh()\n    \n            print(f\"Test reason code: {r}\")\n            print(f\"Received reason: {device.metadata['update']['lobster']['reason']}\")\n    \n>           assert int(device.metadata['update']['lobster']['reasonCode']) == i\nE           AssertionError: assert 2 == 1\nE            +  where 2 = int('2')\n\ntests/hil/tests/ota/test_ota.py:189: AssertionError","steps":[],"attachments":[{"uid":"29c9d87f55cd192b","name":"stdout","source":"29c9d87f55cd192b.txt","type":"text/plain","size":1607}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"releases_teardown::0","time":{"start":1727965402314,"stop":1727965403224,"duration":910},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"releases::0","time":{"start":1727965403226,"stop":1727965404803,"duration":1577},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tag::0","time":{"start":1727965404805,"stop":1727965405577,"duration":772},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts::0","time":{"start":1727965405579,"stop":1727965405579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup::0","time":{"start":1727965405581,"stop":1727965405581,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1727965405583,"stop":1727965405957,"duration":374},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1727965405959,"stop":1727965405959,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1727965405961,"stop":1727965405964,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"mimxrt1024_evk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"hil.zephyr.mimxrt1024_evk"},{"name":"tag","value":"tims_orange_pi"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"b4622c9638a8"},{"name":"thread","value":"267-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'mimxrt1024_evk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":4,"broken":6,"skipped":0,"passed":58,"unknown":0,"total":68},"items":[{"uid":"6e9a1904c4c42b1d","reportUrl":"https://golioth.github.io/allure-reports/1536//#testresult/6e9a1904c4c42b1d","status":"passed","time":{"start":1727958459074,"stop":1727958536600,"duration":77526}},{"uid":"7ee6e128744a2b39","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/7ee6e128744a2b39","status":"passed","time":{"start":1727955895023,"stop":1727955972863,"duration":77840}},{"uid":"a41643f69742c746","reportUrl":"https://golioth.github.io/allure-reports/1534//#testresult/a41643f69742c746","status":"passed","time":{"start":1727953456850,"stop":1727953534036,"duration":77186}},{"uid":"dee3bea5572147d3","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/dee3bea5572147d3","status":"passed","time":{"start":1727907188509,"stop":1727907265439,"duration":76930}},{"uid":"ba9328b8f27b5d6f","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/ba9328b8f27b5d6f","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"ec89581adf8c29f9","reportUrl":"https://golioth.github.io/allure-reports/1530//#testresult/ec89581adf8c29f9","status":"passed","time":{"start":1727948085542,"stop":1727948162565,"duration":77023}},{"uid":"74a2e923e0f6918b","reportUrl":"https://golioth.github.io/allure-reports/1529//#testresult/74a2e923e0f6918b","status":"failed","statusDetails":"AssertionError: assert 7 == 6\n +  where 7 = int('7')","time":{"start":1727944897970,"stop":1727944955858,"duration":57888}},{"uid":"777c360e498ff962","reportUrl":"https://golioth.github.io/allure-reports/1528//#testresult/777c360e498ff962","status":"failed","statusDetails":"AssertionError: assert 6 == 5\n +  where 6 = int('6')","time":{"start":1727944911277,"stop":1727944961434,"duration":50157}},{"uid":"ccc533d1b4278313","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/ccc533d1b4278313","status":"passed","time":{"start":1727832455559,"stop":1727832532654,"duration":77095}},{"uid":"ca211b6c4915fa25","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/ca211b6c4915fa25","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"e9caa1903b75f3f1","reportUrl":"https://golioth.github.io/allure-reports/1527//#testresult/e9caa1903b75f3f1","status":"passed","time":{"start":1727926492670,"stop":1727926569898,"duration":77228}},{"uid":"62adb12f92f83bb0","reportUrl":"https://golioth.github.io/allure-reports/1526//#testresult/62adb12f92f83bb0","status":"passed","time":{"start":1727916160395,"stop":1727916237599,"duration":77204}},{"uid":"ab9b429ace1e5023","reportUrl":"https://golioth.github.io/allure-reports/1525//#testresult/ab9b429ace1e5023","status":"passed","time":{"start":1727907188509,"stop":1727907265439,"duration":76930}},{"uid":"f3811e2b94e9f2e5","reportUrl":"https://golioth.github.io/allure-reports/1524//#testresult/f3811e2b94e9f2e5","status":"passed","time":{"start":1727832455559,"stop":1727832532654,"duration":77095}},{"uid":"974252cf450cf487","reportUrl":"https://golioth.github.io/allure-reports/1523//#testresult/974252cf450cf487","status":"passed","time":{"start":1727829085093,"stop":1727829163668,"duration":78575}},{"uid":"cb516620e74579f3","reportUrl":"https://golioth.github.io/allure-reports/1518//#testresult/cb516620e74579f3","status":"passed","time":{"start":1727801849192,"stop":1727801926349,"duration":77157}},{"uid":"ddcb406604baac59","reportUrl":"https://golioth.github.io/allure-reports/1517//#testresult/ddcb406604baac59","status":"passed","time":{"start":1727800954638,"stop":1727801033061,"duration":78423}},{"uid":"58e90a3197a62a5a","reportUrl":"https://golioth.github.io/allure-reports/1513//#testresult/58e90a3197a62a5a","status":"passed","time":{"start":1727795844178,"stop":1727795921203,"duration":77025}},{"uid":"7b35896a4ff9b891","reportUrl":"https://golioth.github.io/allure-reports/1522//#testresult/7b35896a4ff9b891","status":"passed","time":{"start":1727810098488,"stop":1727810175907,"duration":77419}},{"uid":"8bdb8c2ce29a3858","reportUrl":"https://golioth.github.io/allure-reports/1520//#testresult/8bdb8c2ce29a3858","status":"passed","time":{"start":1727805960284,"stop":1727806037531,"duration":77247}}]},"tags":["anyio","tims_orange_pi","@pytest.mark.usefixtures('anyio_backend')","mimxrt1024_evk","zephyr"]},"source":"b1fc99dba1a630d3.json","parameterValues":["'mimxrt1024_evk'","'zephyr'"]}