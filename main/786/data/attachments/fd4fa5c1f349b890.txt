Warning: Deprecated: Command 'write_flash' is deprecated. Use 'write-flash' instead.
esptool v5.1.0
Serial port /dev/serial/by-id/usb-Silicon_Labs_CP2102N_USB_to_UART_Bridge_Controller_061a7f3b498bef11918522ccef8776e9-if00-port0:
Connecting....
Detecting chip type... ESP32-C3
Connected to ESP32-C3 on /dev/serial/by-id/usb-Silicon_Labs_CP2102N_USB_to_UART_Bridge_Controller_061a7f3b498bef11918522ccef8776e9-if00-port0:
Chip type:          ESP32-C3 AZ (QFN32) (revision v1.1)
Features:           Wi-Fi, BT 5 (LE), Single Core, 160MHz, Embedded Flash 4MB (XMC)
Crystal frequency:  40MHz
MAC:                18:8b:0e:af:95:48

Uploading stub flasher...
Running stub flasher...
Stub flasher running.
Changing baud rate to 460800...
Changed.

Configuring flash size...
Erasing flash memory (this may take a while)...
Flash memory erased successfully in 1.3 seconds.
Compressed 1028336 bytes to 603727...
Writing at 0x00000000 [                              ]   0.0% 0/603727 bytes... 
Writing at 0x00011d7b [                              ]   2.7% 16384/603727 bytes... 
Writing at 0x0001e8bc [>                             ]   5.4% 32768/603727 bytes... 
Writing at 0x0002ad55 [=>                            ]   8.1% 49152/603727 bytes... 
Writing at 0x0003384a [==>                           ]  10.9% 65536/603727 bytes... 
Writing at 0x0003be0c [===>                          ]  13.6% 81920/603727 bytes... 
Writing at 0x00041e07 [===>                          ]  16.3% 98304/603727 bytes... 
Writing at 0x000481fe [====>                         ]  19.0% 114688/603727 bytes... 
Writing at 0x0004e5cc [=====>                        ]  21.7% 131072/603727 bytes... 
Writing at 0x00054aab [======>                       ]  24.4% 147456/603727 bytes... 
Writing at 0x0005a2f2 [=======>                      ]  27.1% 163840/603727 bytes... 
Writing at 0x0005ff6f [=======>                      ]  29.9% 180224/603727 bytes... 
Writing at 0x000665f2 [========>                     ]  32.6% 196608/603727 bytes... 
Writing at 0x0006c1c7 [=========>                    ]  35.3% 212992/603727 bytes... 
Writing at 0x000720b0 [==========>                   ]  38.0% 229376/603727 bytes... 
Writing at 0x000782de [===========>                  ]  40.7% 245760/603727 bytes... 
Writing at 0x0007e1db [============>                 ]  43.4% 262144/603727 bytes... 
Writing at 0x000840e5 [============>                 ]  46.1% 278528/603727 bytes... 
Writing at 0x00089553 [=============>                ]  48.8% 294912/603727 bytes... 
Writing at 0x0008f07b [==============>               ]  51.6% 311296/603727 bytes... 
Writing at 0x00095283 [===============>              ]  54.3% 327680/603727 bytes... 
Writing at 0x0009ac87 [================>             ]  57.0% 344064/603727 bytes... 
Writing at 0x000a050b [================>             ]  59.7% 360448/603727 bytes... 
Writing at 0x000a620e [=================>            ]  62.4% 376832/603727 bytes... 
Writing at 0x000ac568 [==================>           ]  65.1% 393216/603727 bytes... 
Writing at 0x000b2b09 [===================>          ]  67.8% 409600/603727 bytes... 
Writing at 0x000b8ce9 [====================>         ]  70.6% 425984/603727 bytes... 
Writing at 0x000bee8e [====================>         ]  73.3% 442368/603727 bytes... 
Writing at 0x000c4bbd [=====================>        ]  76.0% 458752/603727 bytes... 
Writing at 0x000ca278 [======================>       ]  78.7% 475136/603727 bytes... 
Writing at 0x000cfe10 [=======================>      ]  81.4% 491520/603727 bytes... 
Writing at 0x000d5c60 [========================>     ]  84.1% 507904/603727 bytes... 
Writing at 0x000dca9a [=========================>    ]  86.8% 524288/603727 bytes... 
Writing at 0x000e2fba [=========================>    ]  89.6% 540672/603727 bytes... 
Writing at 0x000ea04a [==========================>   ]  92.3% 557056/603727 bytes... 
Writing at 0x000efdb2 [===========================>  ]  95.0% 573440/603727 bytes... 
Writing at 0x000f5f3d [============================> ]  97.7% 589824/603727 bytes... 
Writing at 0x000fb0f0 [==============================] 100.0% 603727/603727 bytes... 
Wrote 1028336 bytes (603727 compressed) at 0x00000000 in 18.0 seconds (458.0 kbit/s).
Hash of data verified.

Hard resetting via RTS pin...
Build:Jul 20 2023
rst:0x1 (POWERON),boot:0xc (SPI_FAST_FLASH_BOOT)
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fcd5820,len:0x1574
load:0x403cc710,len:0xc30
load:0x403ce710,len:0x2f64
entry 0x403cc71a
I (31) boot: ESP-IDF v5.4.1 2nd stage bootloader
I (31) boot: compile time Oct 21 2025 13:47:33
I (31) boot: chip revision: v1.1
I (31) boot: efuse block revision: v1.3
I (35) boot.esp32c3: SPI Speed      : 80MHz
I (39) boot.esp32c3: SPI Mode       : DIO
I (42) boot.esp32c3: SPI Flash Size : 2MB
I (46) boot: Enabling RNG early entropy source...
I (51) boot: Partition Table:
I (53) boot: ## Label            Usage          Type ST Offset   Length
I (60) boot:  0 nvs              WiFi data        01 02 00009000 00006000
I (66) boot:  1 phy_init         RF data          01 01 0000f000 00001000
I (73) boot:  2 factory          factory app      00 00 00010000 00100000
I (79) boot: End of partition table
I (82) esp_image: segment 0: paddr=00010020 vaddr=3c0b0020 size=25dc0h (155072) map
I (115) esp_image: segment 1: paddr=00035de8 vaddr=3fc93400 size=03050h ( 12368) load
I (117) esp_image: segment 2: paddr=00038e40 vaddr=40380000 size=071d8h ( 29144) load
I (124) esp_image: segment 3: paddr=00040020 vaddr=42000020 size=aeedch (716508) map
I (240) esp_image: segment 4: paddr=000eef04 vaddr=403871d8 size=0c198h ( 49560) load
I (249) esp_image: segment 5: paddr=000fb0a4 vaddr=50000200 size=0001ch (    28) load
I (256) boot: Loaded app from partition at offset 0x10000
I (256) boot: Disabling RNG early entropy source...
I (267) cpu_start: Unicore app
I (275) cpu_start: Pro cpu start user code
I (275) cpu_start: cpu freq: 160000000 Hz
I (275) app_init: Application information:
I (275) app_init: Project name:     settings
I (279) app_init: App version:      0e80716-dirty
I (284) app_init: Compile time:     Oct 21 2025 13:47:26
I (289) app_init: ELF file SHA256:  dcf420d16...
I (293) app_init: ESP-IDF:          v5.4.1
I (297) efuse_init: Min chip rev:     v0.3
I (301) efuse_init: Max chip rev:     v1.99 
I (305) efuse_init: Chip rev:         v1.1
I (309) heap_init: Initializing. RAM available for dynamic allocation:
I (315) heap_init: At 3FC9DEB0 len 00022150 (136 KiB): RAM
I (320) heap_init: At 3FCC0000 len 0001C710 (113 KiB): Retention RAM
I (326) heap_init: At 3FCDC710 len 0000294C (10 KiB): Retention RAM
I (332) heap_init: At 5000021C len 00001DCC (7 KiB): RTCRAM
I (338) spi_flash: detected chip: generic
I (341) spi_flash: flash io: dio
W (344) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (357) sleep_gpio: Configure to isolate all GPIO pins in sleep state
I (363) sleep_gpio: Enable automatic switching of GPIO sleep configuration
I (369) main_task: Started on CPU0
I (379) main_task: Calling app_main()
I (379) settings: Start Golioth Device Settings sample
[5n
Type 'help' to get the list of commands.
Use UP/DOWN arrows to navigate through command history.
Press TAB when typing command name to auto-complete.

Your terminal application does not support escape sequences.

Line editing and history features are disabled.

On Windows, try using Putty instead.
esp32> W (1889) settings: WiFi and golioth credentials are not set
W (1889) settings: Use the shell settings commands to set them, then restart

esp32> 
esp32> 
esp32> 
esp32> settings set wifi/ssid "***SAMS_ORANGE_PI_WIFI_SSID***"
Setting wifi/ssid saved
esp32> 
esp32> 
esp32> 
esp32> 
esp32> 
esp32> settings set wifi/psk "***SAMS_ORANGE_PI_WIFI_PSK***"
Setting wifi/psk saved
esp32> 
esp32> ::add-mask::generated-IHlqtpoaUDcBMKpl

esp32> 
esp32> 
esp32> 
esp32> settings set golioth/psk-id "generated-IHlqtpoaUDcBMKpl@firmware_ci"
Setting golioth/psk-id saved
esp32> 
esp32> 
esp32> 
esp32> 
esp32> 
esp32> settings set golioth/psk "generated-IHlqtpoaUDcBMKpl"
Setting golioth/psk saved
esp32> 
esp32> 
esp32> 
esp32> 
esp32> 
esp32> reset
I (9769) shell: Resetting
ESP-ROM:esp32c3-eco7-20230720
Build:Jul 20 2023
rst:0xc (RTC_SW_CPU_RST),boot:0xc (SPI_FAST_FLASH_BOOT)
Saved PC:0x403807f4
SPIWP:0xee
mode:DIO, clock div:1
load:0x3fcd5820,len:0x1574
load:0x403cc710,len:0xc30
load:0x403ce710,len:0x2f64
entry 0x403cc71a
I (36) boot: ESP-IDF v5.4.1 2nd stage bootloader
I (36) boot: compile time Oct 21 2025 13:47:33
I (36) boot: chip revision: v1.1
I (36) boot: efuse block revision: v1.3
I (40) boot.esp32c3: SPI Speed      : 80MHz
I (44) boot.esp32c3: SPI Mode       : DIO
I (47) boot.esp32c3: SPI Flash Size : 2MB
I (51) boot: Enabling RNG early entropy source...
I (56) boot: Partition Table:
I (58) boot: ## Label            Usage          Type ST Offset   Length
I (65) boot:  0 nvs              WiFi data        01 02 00009000 00006000
I (71) boot:  1 phy_init         RF data          01 01 0000f000 00001000
I (78) boot:  2 factory          factory app      00 00 00010000 00100000
I (84) boot: End of partition table
I (87) esp_image: segment 0: paddr=00010020 vaddr=3c0b0020 size=25dc0h (155072) map
I (120) esp_image: segment 1: paddr=00035de8 vaddr=3fc93400 size=03050h ( 12368) load
I (122) esp_image: segment 2: paddr=00038e40 vaddr=40380000 size=071d8h ( 29144) load
I (129) esp_image: segment 3: paddr=00040020 vaddr=42000020 size=aeedch (716508) map
I (245) esp_image: segment 4: paddr=000eef04 vaddr=403871d8 size=0c198h ( 49560) load
I (254) esp_image: segment 5: paddr=000fb0a4 vaddr=50000200 size=0001ch (    28) load
I (261) boot: Loaded app from partition at offset 0x10000
I (261) boot: Disabling RNG early entropy source...
I (272) cpu_start: Unicore app
I (280) cpu_start: Pro cpu start user code
I (280) cpu_start: cpu freq: 160000000 Hz
I (280) app_init: Application information:
I (280) app_init: Project name:     settings
I (284) app_init: App version:      0e80716-dirty
I (289) app_init: Compile time:     Oct 21 2025 13:47:26
I (294) app_init: ELF file SHA256:  dcf420d16...
I (298) app_init: ESP-IDF:          v5.4.1
I (302) efuse_init: Min chip rev:     v0.3
I (306) efuse_init: Max chip rev:     v1.99 
I (310) efuse_init: Chip rev:         v1.1
I (314) heap_init: Initializing. RAM available for dynamic allocation:
I (320) heap_init: At 3FC9DEB0 len 00022150 (136 KiB): RAM
I (325) heap_init: At 3FCC0000 len 0001C710 (113 KiB): Retention RAM
I (331) heap_init: At 3FCDC710 len 0000294C (10 KiB): Retention RAM
I (337) heap_init: At 5000021C len 00001DCC (7 KiB): RTCRAM
I (343) spi_flash: detected chip: generic
I (346) spi_flash: flash io: dio
W (349) spi_flash: Detected size(4096k) larger than the size in the binary image header(2048k). Using the size in the binary image header.
I (362) sleep_gpio: Configure to isolate all GPIO pins in sleep state
I (367) sleep_gpio: Enable automatic switching of GPIO sleep configuration
I (374) main_task: Started on CPU0
I (384) main_task: Calling app_main()
I (384) settings: Start Golioth Device Settings sample
[5n
Type 'help' to get the list of commands.
Use UP/DOWN arrows to navigate through command history.
Press TAB when typing command name to auto-complete.

Your terminal application does not support escape sequences.

Line editing and history features are disabled.

On Windows, try using Putty instead.
esp32> I (894) pp: pp rom version: 74f9620
I (914) net80211: net80211 rom version: 74f9620
I (934) wifi_init: rx ba win: 6
I (934) wifi_init: accept mbox: 6
I (934) wifi_init: tcpip mbox: 32
I (934) wifi_init: udp mbox: 6
I (934) wifi_init: tcp mbox: 6
I (944) wifi_init: tcp tx win: 5760
I (944) wifi_init: tcp rx win: 5760
I (944) wifi_init: tcp mss: 1440
I (954) wifi_init: WiFi IRAM OP enabled
I (954) wifi_init: WiFi RX IRAM OP enabled
I (954) phy_init: phy_version 1200,2b7123f9,Feb 18 2025,15:22:21
W (964) phy_init: failed to load RF calibration data (0x1102), falling back to full calibration
I (1004) phy_init: Saving new calibration data due to checksum failure or outdated calibration data, mode(2)
I (2904) esp_netif_handlers: sta ip: 192.168.0.121, mask: 255.255.255.0, gw: 192.168.0.1
I (2904) example_wifi: WiFi Connected. Got IP:192.168.0.121
I (2914) example_wifi: Connected to AP SSID: ***SAMS_ORANGE_PI_WIFI_SSID***
I (2914) golioth_mbox: Mbox created, bufsize: 2688, num_items: 20, item_size: 128
W (2924) settings: Waiting for connection to Golioth...
I (2954) golioth_coap_client_libcoap: Start CoAP session with host: coaps://coap.golioth.io
I (2954) golioth_coap_client_libcoap: Session PSK-ID: generated-IHlqtpoaUDcBMKpl@firmware_ci
I (2964) libcoap: Setting PSK key

I (2974) golioth_coap_client_libcoap: Entering CoAP I/O loop
I (3554) golioth_coap_client_libcoap: Golioth CoAP client connected
I (3554) settings: Golioth client connected
I (3564) settings: Sending hello! 0
I (4064) settings: Setting loop delay to 1 s
E (4064) golioth_settings: Failed to send a response to server: -12
I (4124) settings: Setting loop delay to 1 s
E (4124) golioth_settings: Failed to send a response to server: -12
I (5334) settings: Setting loop delay to 5 s
E (5334) golioth_s