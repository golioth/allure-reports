{
  "uid" : "9834762beb560b8",
  "name" : "test_hello",
  "fullName" : "examples.esp_idf.hello.pytest.test_sample#test_hello",
  "historyId" : "b796c046ef6757d6b6c6436ab1db33bf",
  "time" : {
    "start" : 1734656043181,
    "stop" : 1734656061211,
    "duration" : 18030
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: Unable to find all Hello messages on server\nassert 0 == 3",
  "statusTrace" : "board = <espidfboard.ESPIDFBoard object at 0xffff8d525990>\ndevice = <golioth.golioth.Device object at 0xffff8d4d0a50>\n\n    async def test_hello(board, device):\n        # Set Golioth credential\n        golioth_cred = (await device.credentials.list())[0]\n        await board.set_golioth_psk_credentials(golioth_cred.identity, golioth_cred.key)\n    \n        # Record timestamp and wait for fourth hello message\n        start = datetime.datetime.utcnow()\n        await board.wait_for_regex_in_line('.*Sending hello! 3', timeout_s=90.0)\n    \n        # Check logs for hello messages\n        end = datetime.datetime.utcnow()\n        logs = await device.get_logs({'start': start.strftime('%Y-%m-%dT%H:%M:%S.%fZ'), 'end': end.strftime('%Y-%m-%dT%H:%M:%S.%fZ')})\n    \n        # Test logs received from server\n        LOGGER.info(\"Searching log messages from end to start:\")\n        test_idx = 2\n        test_hits = 0\n        for m in reversed(logs):\n    \n            if m.message == f\"Sending hello! {test_idx}\":\n                LOGGER.info(\"### MATCH FOUND! ---> {0}\".format(m.message))\n                test_hits += 1\n                test_idx -= 1\n                if test_idx < 0:\n                    break\n            else:\n                LOGGER.info(m.message)\n    \n>       assert test_hits == 3, 'Unable to find all Hello messages on server'\nE       AssertionError: Unable to find all Hello messages on server\nE       assert 0 == 3\n\nexamples/esp_idf/hello/pytest/test_sample.py:42: AssertionError",
  "flaky" : true,
  "newFailed" : true,
  "beforeStages" : [ {
    "name" : "bmp_port",
    "time" : {
      "start" : 1734655991413,
      "stop" : 1734655991413,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "api_key",
    "time" : {
      "start" : 1734655991414,
      "stop" : 1734655991414,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "wifi_psk",
    "time" : {
      "start" : 1734655991411,
      "stop" : 1734655991411,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "device",
    "time" : {
      "start" : 1734656042281,
      "stop" : 1734656043178,
      "duration" : 897
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "anyio_backend",
    "time" : {
      "start" : 1734655991407,
      "stop" : 1734655991408,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "board_name",
    "time" : {
      "start" : 1734655991408,
      "stop" : 1734655991409,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "device_name",
    "time" : {
      "start" : 1734655991413,
      "stop" : 1734655991413,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "fw_image",
    "time" : {
      "start" : 1734655991412,
      "stop" : 1734655991412,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "api_url",
    "time" : {
      "start" : 1734655991414,
      "stop" : 1734655991414,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "baud",
    "time" : {
      "start" : 1734655991410,
      "stop" : 1734655991410,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "port",
    "time" : {
      "start" : 1734655991409,
      "stop" : 1734655991410,
      "duration" : 1
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "serial_number",
    "time" : {
      "start" : 1734655991412,
      "stop" : 1734655991412,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "wifi_ssid",
    "time" : {
      "start" : 1734655991411,
      "stop" : 1734655991411,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "project",
    "time" : {
      "start" : 1734656041752,
      "stop" : 1734656042281,
      "duration" : 529
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "board",
    "time" : {
      "start" : 1734655991415,
      "stop" : 1734656041750,
      "duration" : 50335
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: Unable to find all Hello messages on server\nassert 0 == 3",
    "statusTrace" : "board = <espidfboard.ESPIDFBoard object at 0xffff8d525990>\ndevice = <golioth.golioth.Device object at 0xffff8d4d0a50>\n\n    async def test_hello(board, device):\n        # Set Golioth credential\n        golioth_cred = (await device.credentials.list())[0]\n        await board.set_golioth_psk_credentials(golioth_cred.identity, golioth_cred.key)\n    \n        # Record timestamp and wait for fourth hello message\n        start = datetime.datetime.utcnow()\n        await board.wait_for_regex_in_line('.*Sending hello! 3', timeout_s=90.0)\n    \n        # Check logs for hello messages\n        end = datetime.datetime.utcnow()\n        logs = await device.get_logs({'start': start.strftime('%Y-%m-%dT%H:%M:%S.%fZ'), 'end': end.strftime('%Y-%m-%dT%H:%M:%S.%fZ')})\n    \n        # Test logs received from server\n        LOGGER.info(\"Searching log messages from end to start:\")\n        test_idx = 2\n        test_hits = 0\n        for m in reversed(logs):\n    \n            if m.message == f\"Sending hello! {test_idx}\":\n                LOGGER.info(\"### MATCH FOUND! ---> {0}\".format(m.message))\n                test_hits += 1\n                test_idx -= 1\n                if test_idx < 0:\n                    break\n            else:\n                LOGGER.info(m.message)\n    \n>       assert test_hits == 3, 'Unable to find all Hello messages on server'\nE       AssertionError: Unable to find all Hello messages on server\nE       assert 0 == 3\n\nexamples/esp_idf/hello/pytest/test_sample.py:42: AssertionError",
    "steps" : [ ],
    "attachments" : [ {
      "uid" : "bde0358ce88f4416",
      "name" : "stdout",
      "source" : "bde0358ce88f4416.txt",
      "type" : "text/plain",
      "size" : 7976
    } ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 1,
    "shouldDisplayMessage" : true,
    "hasContent" : true
  },
  "afterStages" : [ {
    "name" : "device::0",
    "time" : {
      "start" : 1734656061334,
      "stop" : 1734656061754,
      "duration" : 420
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "project::0",
    "time" : {
      "start" : 1734656061757,
      "stop" : 1734656061757,
      "duration" : 0
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  }, {
    "name" : "board::0",
    "time" : {
      "start" : 1734656061759,
      "stop" : 1734656061765,
      "duration" : 6
    },
    "status" : "passed",
    "steps" : [ ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 0,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : false,
    "hasContent" : false
  } ],
  "labels" : [ {
    "name" : "tag",
    "value" : "esp32c3_devkitm_espidf"
  }, {
    "name" : "tag",
    "value" : "esp-idf"
  }, {
    "name" : "parentSuite",
    "value" : "sample.esp-idf.esp32c3_devkitm_espidf"
  }, {
    "name" : "tag",
    "value" : "jons_orange_pi"
  }, {
    "name" : "tag",
    "value" : "@pytest.mark.usefixtures('anyio_backend')"
  }, {
    "name" : "tag",
    "value" : "anyio"
  }, {
    "name" : "suite",
    "value" : "test_sample"
  }, {
    "name" : "host",
    "value" : "1f09b3bb3ad9"
  }, {
    "name" : "thread",
    "value" : "247-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "examples.esp_idf.hello.pytest.test_sample"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ {
    "name" : "board_name",
    "value" : "'esp32c3_devkitm_espidf'"
  }, {
    "name" : "platform_name",
    "value" : "'esp-idf'"
  } ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "history" : {
      "statistic" : {
        "failed" : 2,
        "broken" : 0,
        "skipped" : 0,
        "passed" : 15,
        "unknown" : 0,
        "total" : 17
      },
      "items" : [ {
        "uid" : "96c83319b90637ab",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1957/#testresult/96c83319b90637ab",
        "status" : "passed",
        "time" : {
          "start" : 1734569719928,
          "stop" : 1734569738853,
          "duration" : 18925
        }
      }, {
        "uid" : "2bf60cce7728b92d",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1950/#testresult/2bf60cce7728b92d",
        "status" : "passed",
        "time" : {
          "start" : 1734483291314,
          "stop" : 1734483310582,
          "duration" : 19268
        }
      }, {
        "uid" : "2a89a2c2823b51b4",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1949/#testresult/2a89a2c2823b51b4",
        "status" : "passed",
        "time" : {
          "start" : 1734469283978,
          "stop" : 1734469303071,
          "duration" : 19093
        }
      }, {
        "uid" : "57cf44bdf8defb4d",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1946/#testresult/57cf44bdf8defb4d",
        "status" : "passed",
        "time" : {
          "start" : 1734446085603,
          "stop" : 1734446105064,
          "duration" : 19461
        }
      }, {
        "uid" : "5c171b7361d8bf5",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1944/#testresult/5c171b7361d8bf5",
        "status" : "failed",
        "statusDetails" : "AssertionError: Unable to find all Hello messages on server\nassert 0 == 3",
        "time" : {
          "start" : 1734396278142,
          "stop" : 1734396297894,
          "duration" : 19752
        }
      }, {
        "uid" : "65be00e9d6dbec54",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1935/#testresult/65be00e9d6dbec54",
        "status" : "passed",
        "time" : {
          "start" : 1734309939864,
          "stop" : 1734309958993,
          "duration" : 19129
        }
      }, {
        "uid" : "dd24dd2ec0fda435",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1934/#testresult/dd24dd2ec0fda435",
        "status" : "passed",
        "time" : {
          "start" : 1734223654196,
          "stop" : 1734223672548,
          "duration" : 18352
        }
      }, {
        "uid" : "278a8b4255c94c22",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1933/#testresult/278a8b4255c94c22",
        "status" : "passed",
        "time" : {
          "start" : 1734137092919,
          "stop" : 1734137111108,
          "duration" : 18189
        }
      }, {
        "uid" : "2c758300dfc2089c",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1930/#testresult/2c758300dfc2089c",
        "status" : "passed",
        "time" : {
          "start" : 1734117752479,
          "stop" : 1734117771193,
          "duration" : 18714
        }
      }, {
        "uid" : "db1a785843e244ff",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1929/#testresult/db1a785843e244ff",
        "status" : "passed",
        "time" : {
          "start" : 1734050703128,
          "stop" : 1734050722313,
          "duration" : 19185
        }
      }, {
        "uid" : "5ab893dd7b9af9f1",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1924/#testresult/5ab893dd7b9af9f1",
        "status" : "passed",
        "time" : {
          "start" : 1734030455800,
          "stop" : 1734030475386,
          "duration" : 19586
        }
      }, {
        "uid" : "fbd2563721bdbcbb",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1910/#testresult/fbd2563721bdbcbb",
        "status" : "passed",
        "time" : {
          "start" : 1733995900342,
          "stop" : 1733995918379,
          "duration" : 18037
        }
      }, {
        "uid" : "95d48dbdabfb6bdb",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1909/#testresult/95d48dbdabfb6bdb",
        "status" : "passed",
        "time" : {
          "start" : 1733964255726,
          "stop" : 1733964275025,
          "duration" : 19299
        }
      }, {
        "uid" : "570540bfb97e18cc",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1906/#testresult/570540bfb97e18cc",
        "status" : "passed",
        "time" : {
          "start" : 1733951254828,
          "stop" : 1733951272847,
          "duration" : 18019
        }
      }, {
        "uid" : "5e5f22fbf410cb1b",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1894/#testresult/5e5f22fbf410cb1b",
        "status" : "passed",
        "time" : {
          "start" : 1733878599811,
          "stop" : 1733878619477,
          "duration" : 19666
        }
      }, {
        "uid" : "6036a59d6b73bc25",
        "reportUrl" : "https://golioth.github.io/allure-reports/main/1885/#testresult/6036a59d6b73bc25",
        "status" : "passed",
        "time" : {
          "start" : 1733854958434,
          "stop" : 1733854977629,
          "duration" : 19195
        }
      } ]
    },
    "tags" : [ "esp-idf", "jons_orange_pi", "anyio", "esp32c3_devkitm_espidf", "@pytest.mark.usefixtures('anyio_backend')" ]
  },
  "source" : "9834762beb560b8.json",
  "parameterValues" : [ "'esp32c3_devkitm_espidf'", "'esp-idf'" ]
}