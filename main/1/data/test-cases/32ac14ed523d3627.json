{"uid":"32ac14ed523d3627","name":"test_manifest","fullName":"tests.hil.tests.ota.test_ota#test_manifest","historyId":"6b97239b5e61198204c99ce3500ab0c3","time":{"start":1729361230272,"stop":1729361230272,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 1 == 5\n +  where 1 = len({'multi_artifact': Artifact <65f896d09b3bc69827b4cb21, package=walrus, version=0.4.2, blueprint=None>})","statusTrace":"project = <golioth.golioth.Project object at 0xffff95ee9c10>\n\n    @pytest.fixture(scope=\"module\")\n    async def artifacts(project):\n        artifacts = dict()\n    \n        # Find Artifact that matches this device and desired update versions\n    \n        all_artifacts = await project.artifacts.get_all()\n        for a in all_artifacts:\n            if a.blueprint == None:\n                if a.version == DUMMY_VER_OLDER and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_manifest\"] = a\n                elif a.version == DUMMY_VER_SAME and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_blocks\"] = a\n                elif a.version == DUMMY_VER_UPDATE and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_reasons\"] = a\n                elif a.version == DUMMY_VER_EXTRA and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_multiple\"] = a\n                elif a.version == MULTI_PACKAGE_VER and a.package == MULTI_PACKAGE:\n                    artifacts[\"multi_artifact\"] = a\n    \n>       assert len(artifacts) == 5\nE       AssertionError: assert 1 == 5\nE        +  where 1 = len({'multi_artifact': Artifact <65f896d09b3bc69827b4cb21, package=walrus, version=0.4.2, blueprint=None>})\n\ntests/hil/tests/ota/test_ota.py:85: AssertionError","flaky":false,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"board_name","time":{"start":1729361230276,"stop":1729361230277,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"anyio_backend","time":{"start":1729361230276,"stop":1729361230276,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"port","time":{"start":1729361230277,"stop":1729361230277,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"baud","time":{"start":1729361230278,"stop":1729361230278,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1729361230279,"stop":1729361230280,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1729361230279,"stop":1729361230279,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"fw_image","time":{"start":1729361230280,"stop":1729361230280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"serial_number","time":{"start":1729361230280,"stop":1729361230280,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"bmp_port","time":{"start":1729361230281,"stop":1729361230281,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1729361230282,"stop":1729361230282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1729361230283,"stop":1729361230283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1729361230283,"stop":1729361230283,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board","time":{"start":1729361230284,"stop":1729361255055,"duration":24771},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1729361255057,"stop":1729361255615,"duration":558},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device","time":{"start":1729361255615,"stop":1729361256709,"duration":1094},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup","time":{"start":1729361256709,"stop":1729361260478,"duration":3769},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifacts","time":{"start":1729361260480,"stop":1729361261010,"duration":530},"status":"failed","statusMessage":"AssertionError: assert 1 == 5\n +  where 1 = len({'multi_artifact': Artifact <65f896d09b3bc69827b4cb21, package=walrus, version=0.4.2, blueprint=None>})\n","statusTrace":"  File \"/usr/local/lib/python3.11/dist-packages/pluggy/_callers.py\", line 167, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/usr/local/lib/python3.11/dist-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/pluggy/_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/_pytest/fixtures.py\", line 891, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/anyio/pytest_plugin.py\", line 83, in wrapper\n    yield runner.run_fixture(func, kwargs)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/anyio/_backends/_trio.py\", line 946, in run_fixture\n    return self._call_in_runner_task(fixture_func, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/anyio/_backends/_trio.py\", line 921, in _call_in_runner_task\n    return outcome_holder[0].unwrap()\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/outcome/_impl.py\", line 213, in unwrap\n    raise captured_error\n  File \"/usr/local/lib/python3.11/dist-packages/anyio/_backends/_trio.py\", line 891, in _run_tests_and_fixtures\n    retval = await coro\n             ^^^^^^^^^^\n  File \"/__w/golioth-firmware-sdk/golioth-firmware-sdk/tests/hil/tests/ota/test_ota.py\", line 85, in artifacts\n    assert len(artifacts) == 5\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 1 == 5\n +  where 1 = len({'multi_artifact': Artifact <65f896d09b3bc69827b4cb21, package=walrus, version=0.4.2, blueprint=None>})","statusTrace":"project = <golioth.golioth.Project object at 0xffff95ee9c10>\n\n    @pytest.fixture(scope=\"module\")\n    async def artifacts(project):\n        artifacts = dict()\n    \n        # Find Artifact that matches this device and desired update versions\n    \n        all_artifacts = await project.artifacts.get_all()\n        for a in all_artifacts:\n            if a.blueprint == None:\n                if a.version == DUMMY_VER_OLDER and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_manifest\"] = a\n                elif a.version == DUMMY_VER_SAME and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_blocks\"] = a\n                elif a.version == DUMMY_VER_UPDATE and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_reasons\"] = a\n                elif a.version == DUMMY_VER_EXTRA and a.package == UPDATE_PACKAGE:\n                    artifacts[\"test_multiple\"] = a\n                elif a.version == MULTI_PACKAGE_VER and a.package == MULTI_PACKAGE:\n                    artifacts[\"multi_artifact\"] = a\n    \n>       assert len(artifacts) == 5\nE       AssertionError: assert 1 == 5\nE        +  where 1 = len({'multi_artifact': Artifact <65f896d09b3bc69827b4cb21, package=walrus, version=0.4.2, blueprint=None>})\n\ntests/hil/tests/ota/test_ota.py:85: AssertionError","steps":[],"attachments":[{"uid":"3e7b753ceaac5aa5","name":"stdout","source":"3e7b753ceaac5aa5.txt","type":"text/plain","size":7777}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"setup::0","time":{"start":1729361261373,"stop":1729361261373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device::0","time":{"start":1729361261375,"stop":1729361261811,"duration":436},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1729361261814,"stop":1729361261814,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"board::0","time":{"start":1729361261816,"stop":1729361261819,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"esp32s3_devkitc_espidf"},{"name":"tag","value":"esp-idf"},{"name":"parentSuite","value":"hil.esp-idf.esp32s3_devkitc_espidf"},{"name":"tag","value":"mikes_testbench"},{"name":"tag","value":"@pytest.mark.usefixtures('anyio_backend')"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_ota"},{"name":"host","value":"339378733d55"},{"name":"thread","value":"243-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.hil.tests.ota.test_ota"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'esp32s3_devkitc_espidf'"},{"name":"platform_name","value":"'esp-idf'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":13,"unknown":0,"total":14},"items":[{"uid":"840d275a1a1c944f","reportUrl":"https://golioth.github.io/allure-reports/main/1676//#testresult/840d275a1a1c944f","status":"passed","time":{"start":1729297845583,"stop":1729297846300,"duration":717}},{"uid":"d0e29f4074359ab6","reportUrl":"https://golioth.github.io/allure-reports/main/1675//#testresult/d0e29f4074359ab6","status":"passed","time":{"start":1729211432314,"stop":1729211433229,"duration":915}},{"uid":"6d6810e5418b1867","reportUrl":"https://golioth.github.io/allure-reports/main/1674//#testresult/6d6810e5418b1867","status":"passed","time":{"start":1729202546178,"stop":1729202547523,"duration":1345}},{"uid":"129884eb096db677","reportUrl":"https://golioth.github.io/allure-reports/main/1649//#testresult/129884eb096db677","status":"passed","time":{"start":1729109109439,"stop":1729109110300,"duration":861}},{"uid":"959a4df9e7bdd82f","reportUrl":"https://golioth.github.io/allure-reports/main/1647//#testresult/959a4df9e7bdd82f","status":"passed","time":{"start":1729038745456,"stop":1729038746539,"duration":1083}},{"uid":"b54832cbb64105df","reportUrl":"https://golioth.github.io/allure-reports/main/1643//#testresult/b54832cbb64105df","status":"passed","time":{"start":1729024761924,"stop":1729024763052,"duration":1128}},{"uid":"665e9cb745d82f70","reportUrl":"https://golioth.github.io/allure-reports/main/1639//#testresult/665e9cb745d82f70","status":"passed","time":{"start":1729006837249,"stop":1729006838592,"duration":1343}},{"uid":"478f5936efa34c00","reportUrl":"https://golioth.github.io/allure-reports/main/1637//#testresult/478f5936efa34c00","status":"passed","time":{"start":1728952367699,"stop":1728952368334,"duration":635}},{"uid":"97b08ad972317c5f","reportUrl":"https://golioth.github.io/allure-reports/main/1636//#testresult/97b08ad972317c5f","status":"passed","time":{"start":1728866081533,"stop":1728866082243,"duration":710}},{"uid":"e5266ee18526bca4","reportUrl":"https://golioth.github.io/allure-reports/main/1635//#testresult/e5266ee18526bca4","status":"passed","time":{"start":1728779645210,"stop":1728779645772,"duration":562}},{"uid":"85c76aec45723f2b","reportUrl":"https://golioth.github.io/allure-reports/main/1634//#testresult/85c76aec45723f2b","status":"passed","time":{"start":1728693104978,"stop":1728693106313,"duration":1335}},{"uid":"55f91cfb34207f95","reportUrl":"https://golioth.github.io/allure-reports/main/1633//#testresult/55f91cfb34207f95","status":"passed","time":{"start":1728667693604,"stop":1728667694464,"duration":860}},{"uid":"63362430e142b021","reportUrl":"https://golioth.github.io/allure-reports/main/1631//#testresult/63362430e142b021","status":"passed","time":{"start":1728662124553,"stop":1728662125216,"duration":663}}]},"tags":["esp32s3_devkitc_espidf","esp-idf","anyio","mikes_testbench","@pytest.mark.usefixtures('anyio_backend')"]},"source":"32ac14ed523d3627.json","parameterValues":["'esp32s3_devkitc_espidf'","'esp-idf'"]}