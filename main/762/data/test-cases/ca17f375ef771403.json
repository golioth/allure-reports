{"uid":"ca17f375ef771403","name":"test_cert_provisioning","fullName":"modules.lib.golioth-firmware-sdk.examples.zephyr.certificate_provisioning.pytest.test_sample#test_cert_provisioning","historyId":"cbbe5798356bbcd9f9da9dcb46821d09","time":{"start":1760056724578,"stop":1760056724578,"duration":0},"status":"failed","statusMessage":"AssertionError: assert 40 == 0\n +  where 40 = CompletedProcess(args=['/root/venv/bin/west', 'flash', '--skip-rebuild', '--build-dir', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto', '--runner', 'nrfjprog', '--', '--dev-id=960047329', '--hex-file', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex'], returncode=40, stdout='-- west flash: using runner nrfjprog\\n-- runners.nrfjprog: reset after flashing requested\\n-- runners.nrfjprog: Flashing file: /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex\\n', stderr='ERROR: Could not find debugger with serial number 960047329.\\nERROR: There is no debugger connected to the PC with the given serial number.\\nNOTE: For additional output, try running again with logging enabled (--log).\\nNOTE: Any generated log error messages will be displayed.\\nFATAL ERROR: command exited with status 40: nrfjprog --program /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex --sectorerase --verify -f NRF91 --snr 960047329\\n').returncode","statusTrace":"device_object = HardwareAdapter()\nrequest = <SubRequest 'lfs_flash_empty' for <Function test_cert_provisioning>>\n\n    @pytest.fixture\n    def lfs_flash_empty(device_object: DeviceAdapter, request):\n        if not isinstance(device_object, HardwareAdapter):\n            return\n    \n        build_dir = Path(request.config.option.build_dir)\n        domains = build_dir / 'domains.yaml'\n        if domains.exists():\n            build_dir = build_dir / get_default_domain_name(domains)\n    \n        LOGGER.info(\"Flashing LFS image\")\n        device_object.generate_command()\n        command = device_object.command + [\"--hex-file\", str(build_dir / \"lfs.hex\")]\n        log_command(LOGGER, \"Flashing LFS command\", command, level=logging.DEBUG)\n        result = subprocess.run(command,\n                                capture_output=True, text=True,\n                                cwd=str(build_dir),\n                                check=False)\n        subprocess_logger(result, 'LFS flash')\n>       assert result.returncode == 0\nE       AssertionError: assert 40 == 0\nE        +  where 40 = CompletedProcess(args=['/root/venv/bin/west', 'flash', '--skip-rebuild', '--build-dir', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto', '--runner', 'nrfjprog', '--', '--dev-id=960047329', '--hex-file', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex'], returncode=40, stdout='-- west flash: using runner nrfjprog\\n-- runners.nrfjprog: reset after flashing requested\\n-- runners.nrfjprog: Flashing file: /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex\\n', stderr='ERROR: Could not find debugger with serial number 960047329.\\nERROR: There is no debugger connected to the PC with the given serial number.\\nNOTE: For additional output, try running again with logging enabled (--log).\\nNOTE: Any generated log error messages will be displayed.\\nFATAL ERROR: command exited with status 40: nrfjprog --program /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex --sectorerase --verify -f NRF91 --snr 960047329\\n').returncode\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/certificate_provisioning/pytest/test_sample.py:45: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"anyio_backend","time":{"start":1760056724582,"stop":1760056724582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_ssid","time":{"start":1760056724582,"stop":1760056724582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"twister_harness_config","time":{"start":1760056724583,"stop":1760056724584,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"wifi_psk","time":{"start":1760056724583,"stop":1760056724583,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object","time":{"start":1760056724584,"stop":1760056724586,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_key","time":{"start":1760056724587,"stop":1760056724587,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api_url","time":{"start":1760056724587,"stop":1760056724588,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project","time":{"start":1760056724588,"stop":1760056725041,"duration":453},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name","time":{"start":1760056725041,"stop":1760056725042,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"certificate_cred","time":{"start":1760056725043,"stop":1760056725472,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"lfs_flash_empty","time":{"start":1760056725473,"stop":1760056730045,"duration":4572},"status":"failed","statusMessage":"AssertionError: assert 40 == 0\n +  where 40 = CompletedProcess(args=['/root/venv/bin/west', 'flash', '--skip-rebuild', '--build-dir', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto', '--runner', 'nrfjprog', '--', '--dev-id=960047329', '--hex-file', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex'], returncode=40, stdout='-- west flash: using runner nrfjprog\\n-- runners.nrfjprog: reset after flashing requested\\n-- runners.nrfjprog: Flashing file: /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex\\n', stderr='ERROR: Could not find debugger with serial number 960047329.\\nERROR: There is no debugger connected to the PC with the given serial number.\\nNOTE: For additional output, try running again with logging enabled (--log).\\nNOTE: Any generated log error messages will be displayed.\\nFATAL ERROR: command exited with status 40: nrfjprog --program /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex --sectorerase --verify -f NRF91 --snr 960047329\\n').returncode\n","statusTrace":"  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 53, in run_old_style_hookwrapper\n    return result.get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_result.py\", line 103, in get_result\n    raise exc.with_traceback(tb)\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 38, in run_old_style_hookwrapper\n    res = yield\n          ^^^^^\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 139, in _multicall\n    teardown.throw(exception)\n    ~~~~~~~~~~~~~~^^^^^^^^^^^\n  File \"/root/venv/lib/python3.13/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/root/venv/lib/python3.13/site-packages/pluggy/_callers.py\", line 121, in _multicall\n    res = hook_impl.function(*args)\n  File \"/root/venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 1195, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/root/venv/lib/python3.13/site-packages/_pytest/fixtures.py\", line 929, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/__w/golioth-firmware-sdk/golioth-firmware-sdk/modules/lib/golioth-firmware-sdk/examples/zephyr/certificate_provisioning/pytest/test_sample.py\", line 45, in lfs_flash_empty\n    assert result.returncode == 0\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 40 == 0\n +  where 40 = CompletedProcess(args=['/root/venv/bin/west', 'flash', '--skip-rebuild', '--build-dir', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto', '--runner', 'nrfjprog', '--', '--dev-id=960047329', '--hex-file', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex'], returncode=40, stdout='-- west flash: using runner nrfjprog\\n-- runners.nrfjprog: reset after flashing requested\\n-- runners.nrfjprog: Flashing file: /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex\\n', stderr='ERROR: Could not find debugger with serial number 960047329.\\nERROR: There is no debugger connected to the PC with the given serial number.\\nNOTE: For additional output, try running again with logging enabled (--log).\\nNOTE: Any generated log error messages will be displayed.\\nFATAL ERROR: command exited with status 40: nrfjprog --program /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex --sectorerase --verify -f NRF91 --snr 960047329\\n').returncode","statusTrace":"device_object = HardwareAdapter()\nrequest = <SubRequest 'lfs_flash_empty' for <Function test_cert_provisioning>>\n\n    @pytest.fixture\n    def lfs_flash_empty(device_object: DeviceAdapter, request):\n        if not isinstance(device_object, HardwareAdapter):\n            return\n    \n        build_dir = Path(request.config.option.build_dir)\n        domains = build_dir / 'domains.yaml'\n        if domains.exists():\n            build_dir = build_dir / get_default_domain_name(domains)\n    \n        LOGGER.info(\"Flashing LFS image\")\n        device_object.generate_command()\n        command = device_object.command + [\"--hex-file\", str(build_dir / \"lfs.hex\")]\n        log_command(LOGGER, \"Flashing LFS command\", command, level=logging.DEBUG)\n        result = subprocess.run(command,\n                                capture_output=True, text=True,\n                                cwd=str(build_dir),\n                                check=False)\n        subprocess_logger(result, 'LFS flash')\n>       assert result.returncode == 0\nE       AssertionError: assert 40 == 0\nE        +  where 40 = CompletedProcess(args=['/root/venv/bin/west', 'flash', '--skip-rebuild', '--build-dir', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto', '--runner', 'nrfjprog', '--', '--dev-id=960047329', '--hex-file', '/__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex'], returncode=40, stdout='-- west flash: using runner nrfjprog\\n-- runners.nrfjprog: reset after flashing requested\\n-- runners.nrfjprog: Flashing file: /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex\\n', stderr='ERROR: Could not find debugger with serial number 960047329.\\nERROR: There is no debugger connected to the PC with the given serial number.\\nNOTE: For additional output, try running again with logging enabled (--log).\\nNOTE: Any generated log error messages will be displayed.\\nFATAL ERROR: command exited with status 40: nrfjprog --program /__w/golioth-firmware-sdk/golioth-firmware-sdk/twister-out/nrf9160dk@0.14.0_nrf9160_ns/zephyr/certificate_provisioning/sample.golioth.certificate_provisioning.psa_crypto/certificate_provisioning/lfs.hex --sectorerase --verify -f NRF91 --snr 960047329\\n').returncode\n\nmodules/lib/golioth-firmware-sdk/examples/zephyr/certificate_provisioning/pytest/test_sample.py:45: AssertionError","steps":[],"attachments":[{"uid":"69054ee0de4382e2","name":"log","source":"69054ee0de4382e2.txt","type":"text/plain","size":9997}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"certificate_cred::0","time":{"start":1760056730273,"stop":1760056730576,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_name::0","time":{"start":1760056730578,"stop":1760056730884,"duration":306},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"project::0","time":{"start":1760056730886,"stop":1760056730889,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"device_object::0","time":{"start":1760056730893,"stop":1760056730894,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"nrf9160dk"},{"name":"tag","value":"zephyr"},{"name":"parentSuite","value":"sample.zephyr.nrf9160dk"},{"name":"tag","value":"sams_orange_pi"},{"name":"tag","value":"anyio"},{"name":"suite","value":"test_sample"},{"name":"host","value":"bdb52752b785"},{"name":"thread","value":"480-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"modules.lib.golioth-firmware-sdk.examples.zephyr.certificate_provisioning.pytest.test_sample"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"board_name","value":"'nrf9160dk'"},{"name":"platform_name","value":"'zephyr'"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["nrf9160dk","anyio","sams_orange_pi","zephyr"]},"source":"ca17f375ef771403.json","parameterValues":["'nrf9160dk'","'zephyr'"]}